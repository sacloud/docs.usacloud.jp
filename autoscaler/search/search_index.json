{"config":{"lang":["ja"],"separator":"[\\s\\-\u3000\u3001\u3002\uff0c\uff0e]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"sacloud/autoscaler","text":""},{"location":"#_1","title":"\u6982\u8981","text":"<p><code>sacloud/autoscaler</code>(\u30aa\u30fc\u30c8\u30b9\u30b1\u30fc\u30e9\u30fc)\u306f\u3001\u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u4e0a\u306e\u30ea\u30bd\u30fc\u30b9\u306e\u30aa\u30fc\u30c8\u30b9\u30b1\u30fc\u30eb\u3092\u5b9f\u73fe\u3059\u308b\u305f\u3081\u306e\u30c4\u30fc\u30eb\u7fa4\u3067\u3059\u3002</p> <p>Warning</p> <p>sacloud/autoscaler\u306f\u73fe\u5728\u958b\u767a\u4e2d\u3067\u3059\u3002 v1.0\u306b\u9054\u3059\u308b\u307e\u3067\u306f\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306a\u3069\u306b\u3064\u3044\u3066\u4e92\u63db\u6027\u306e\u306a\u3044\u5f62\u3067\u5909\u66f4\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u3053\u3068\u306b\u3054\u6ce8\u610f\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"#_2","title":"\u30b3\u30f3\u30bb\u30d7\u30c8/\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3","text":"<p>sacloud/autoscaler\u306fGrafana\u3084Prometheus\u3068\u3044\u3063\u305f\u76e3\u8996\u30c4\u30fc\u30eb\u3068\u9023\u643a\u3057\u3001\u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u4e0a\u306e\u30ea\u30bd\u30fc\u30b9\u306e\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb\u3084\u5782\u76f4\u30b9\u30b1\u30fc\u30eb\u3092\u884c\u3044\u307e\u3059\u3002   </p> <p>\u4ee5\u4e0b\u306e3\u3064\u306e\u8ad6\u7406\u7684\u306a\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u304b\u3089\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002</p> <ul> <li><code>Inputs</code>: \u306a\u3093\u3089\u304b\u306e\u30c8\u30ea\u30ac\u30fc\u3092\u53d7\u3051\u3001Core\u306b\u5bfe\u3057\u3066\u30b9\u30b1\u30fc\u30eb\u6307\u793a\u3092\u51fa\u3059</li> <li><code>Core</code>: Inputs\u304b\u3089\u306e\u6307\u793a\u3092\u53d7\u3051\u3001\u3042\u3089\u304b\u3058\u3081\u5b9a\u7fa9\u3055\u308c\u305f\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306b\u5f93\u3044\u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u4e0a\u306e\u30ea\u30bd\u30fc\u30b9\u306e\u3042\u308b\u3079\u304d\u59ff\u3092\u7b97\u51fa\u3001Handlers\u306b\u6307\u793a\u3092\u51fa\u3059</li> <li><code>Handlers</code>: Core\u304b\u3089\u306e\u6307\u793a\u3092\u53d7\u3051\u3001\u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u4e0a\u306e\u30ea\u30bd\u30fc\u30b9\u306e\u66f4\u65b0\u306a\u3069\u306e\u30ea\u30bd\u30fc\u30b9\u64cd\u4f5c\u3092\u62c5\u5f53\u3059\u308b</li> </ul> <p>Grafana\u3084Prometheus\u306b\u5bfe\u5fdc\u3059\u308bInputs\u3001\u30b5\u30fc\u30d0\u3084\u30a8\u30f3\u30cf\u30f3\u30b9\u30c9\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u306e\u30b9\u30b1\u30fc\u30eb\u52d5\u4f5c\u306b\u5bfe\u5fdc\u3059\u308bHandlers\u304c\u30d3\u30eb\u30c8\u30a4\u30f3\u3068\u3057\u3066\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u5404\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u9593\u306e\u9023\u643a\u306b\u306fgRPC\u3092\u7528\u3044\u3066\u304a\u308a\u3001Inputs\u3084Handlers\u3068\u3057\u3066\u72ec\u81ea\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u3092\u5b9f\u88c5\u3057\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u3082\u51fa\u6765\u307e\u3059\u3002</p>"},{"location":"#_3","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>GitHub Releases\u304b\u3089\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 \u8a73\u7d30\u306fGetting Starget\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002  </p>"},{"location":"#_4","title":"\u57fa\u672c\u7684\u306a\u4f7f\u3044\u65b9","text":"<p>\u64cd\u4f5c\u5bfe\u8c61\u306e\u30ea\u30bd\u30fc\u30b9\u3092\u5b9a\u7fa9\u3057\u305f\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u610f\u3057\u3001<code>autoscaler</code>\u30b3\u30de\u30f3\u30c9\u3092\u901a\u3058\u3066Core\u3084\u30d3\u30eb\u30c8\u30a4\u30f3Inputs\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002</p> <pre><code># \u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u306e\u96db\u5f62\u3092\u51fa\u529b\n$ autoscaler example &gt; autoscaler.yaml\n\n# \u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u306e\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\n# autoscaler validate\n\n# Core\u306e\u8d77\u52d5\n$ autoscaler start\n\n# Inputs\u306e\u8d77\u52d5(Grafana\u5411\u3051)\n$ autoscaler inputs grafana \n</code></pre> <p>Tips</p> <p>\u30d3\u30eb\u30c8\u30a4\u30f3Handlers\u306fCore\u306b\u542b\u307e\u308c\u3066\u304a\u308a\u5225\u9014\u8d77\u52d5\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002</p>"},{"location":"#_5","title":"\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3","text":"<p>\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u4e0a\u306e\u30b9\u30b1\u30fc\u30eb\u3055\u305b\u305f\u3044\u30ea\u30bd\u30fc\u30b9\u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002  </p> <pre><code># \u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u306e\u69cb\u9020\nresources:\n # \u64cd\u4f5c\u5bfe\u8c61\u306e\u30ea\u30bd\u30fc\u30b91 \n - name: \"resource1\" \n   type: \"Server\"  \n   # \u30ea\u30bd\u30fc\u30b9\u3054\u3068\u306b\u56fa\u6709\u306e\u8a2d\u5b9a\u9805\u76ee...\n\n # \u64cd\u4f5c\u5bfe\u8c61\u306e\u30ea\u30bd\u30fc\u30b92 \n - name: \"resource2\"\n   type: \"ServerGroup\"\n   # \u30ea\u30bd\u30fc\u30b9\u3054\u3068\u306b\u56fa\u6709\u306e\u8a2d\u5b9a\u9805\u76ee...\n</code></pre> <p>\u5b9a\u7fa9\u53ef\u80fd\u306a\u30ea\u30bd\u30fc\u30b9\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 \u8a73\u7d30\u306f\u5404\u30ea\u30bd\u30fc\u30b9\u306e\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"#_6","title":"\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb","text":"<ul> <li>\u30b5\u30fc\u30d0\u30b0\u30eb\u30fc\u30d7(<code>ServerGroup</code>): \u53f0\u6570</li> </ul>"},{"location":"#_7","title":"\u5782\u76f4\u30b9\u30b1\u30fc\u30eb","text":"<ul> <li>\u30b5\u30fc\u30d0(<code>Server</code>): CPU/\u30e1\u30e2\u30ea</li> <li>\u30a8\u30f3\u30cf\u30f3\u30b9\u30c9\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5(<code>ELB</code>): CPS</li> <li>\u30eb\u30fc\u30bf(<code>Router</code>): \u5e2f\u57df</li> </ul>"},{"location":"cli/","title":"AutoScaler CLI\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9","text":""},{"location":"cli/#_1","title":"\u5229\u7528\u65b9\u6cd5/\u30d8\u30eb\u30d7","text":"<p><code>autoscaler -h</code>\u3067\u30d8\u30eb\u30d7\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002</p> <pre><code>$ autoscaler -h\nautoscaler is a tool for managing the scale of resources on SAKURA cloud\n\nUsage:\n  autoscaler [command]\n\nAvailable Commands:\n  completion  Generate completion script\n  example     show configuration example\n  handlers    A set of sub commands to manage autoscaler's external handlers\n  help        Help about any command\n  inputs      A set of sub commands to manage autoscaler's inputs\n  resources   list target resources\n  start       start autoscaler's core server\n  validate    validate autoscaler's core configuration\n  version     show version\n\nFlags:\n  -h, --help                help for autoscaler\n      --log-format string   Format of logging to be output. options: [ logfmt | json ] (default \"logfmt\")\n      --log-level string    Level of logging to be output. options: [ error | warn | info | debug ] (default \"info\")\n  -v, --version             version for autoscaler\n\nUse \"autoscaler [command] --help\" for more information about a command.\n</code></pre> <p>\u6307\u5b9a\u53ef\u80fd\u306a\u30b5\u30d6\u30b3\u30de\u30f3\u30c9\u3084\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u5404\u30b3\u30de\u30f3\u30c9\u306e\u30d8\u30eb\u30d7\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"cli/#_2","title":"\u30b7\u30a7\u30eb\u88dc\u5b8c","text":"<p>sacloud/autoscaler\u306f\u30b7\u30a7\u30eb\u88dc\u5b8c\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002 \u30b7\u30a7\u30eb\u88dc\u5b8c\u306e\u6709\u52b9\u5316\u65b9\u6cd5\u306f\u3054\u5229\u7528\u306e\u30b7\u30a7\u30eb\u3054\u3068\u306b\u7570\u306a\u308a\u307e\u3059\u3002</p> <p><code>autoscaler completion --help</code>\u3067\u8868\u793a\u3055\u308c\u308b\u624b\u9806\u306b\u5f93\u3063\u3066\u304f\u3060\u3055\u3044\u3002  </p>"},{"location":"cli/#_3","title":"\u30b7\u30a7\u30eb\u88dc\u5b8c\u306e\u8a2d\u5b9a\u4f8b","text":""},{"location":"cli/#bash","title":"Bash","text":"<pre><code>$ source &lt;(autoscaler completion bash)\n\n# To load completions for each session, execute once:\n# Linux:\n$ autoscaler completion bash &gt; /etc/bash_completion.d/autoscaler\n# macOS:\n$ autoscaler completion bash &gt; /usr/local/etc/bash_completion.d/autoscaler\n</code></pre>"},{"location":"cli/#zsh","title":"Zsh","text":"<pre><code># If shell completion is not already enabled in your environment,\n# you will need to enable it.  You can execute the following once:\n\n$ echo \"autoload -U compinit; compinit\" &gt;&gt; ~/.zshrc\n\n# To load completions for each session, execute once:\n$ autoscaler completion zsh &gt; \"${fpath[1]}/_autoscaler\"\n\n# You will need to start a new shell for this setup to take effect.\n</code></pre>"},{"location":"cli/#fish","title":"fish","text":"<pre><code>$ autoscaler completion fish | source\n\n# To load completions for each session, execute once:\n$ autoscaler completion fish &gt; ~/.config/fish/completions/autoscaler.fish\n</code></pre>"},{"location":"cli/#powershell","title":"PowerShell","text":"<pre><code>PS&gt; autoscaler completion powershell | Out-String | Invoke-Expression\n\n# To load completions for every new session, run:\nPS&gt; autoscaler completion powershell &gt; autoscaler.ps1\n# and source this file from your PowerShell profile.\n</code></pre>"},{"location":"configuration/","title":"Configuration Reference","text":"<p>sacloud/autoscaler\u306e\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u306fYAML\u5f62\u5f0f\u3067\u66f8\u304b\u308c\u305f\u3001\u64cd\u4f5c\u5bfe\u8c61\u306e\u30ea\u30bd\u30fc\u30b9\u5b9a\u7fa9\u3084\u52d5\u4f5c\u3092\u8abf\u6574\u3059\u308b\u305f\u3081\u306e\u3082\u306e\u3067\u3059\u3002  </p>"},{"location":"configuration/#_1","title":"\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u306e\u4f8b:","text":"<pre><code># \u64cd\u4f5c\u5bfe\u8c61\u306e\u30ea\u30bd\u30fc\u30b9\u306e\u5b9a\u7fa9\n# \u30b9\u30b1\u30fc\u30eb\u3055\u305b\u305f\u3044\u30ea\u30bd\u30fc\u30b9\u7fa4\u3092\u3053\u3053\u3067\u5b9a\u7fa9\u3059\u308b\nresources:\n  # \u30b5\u30fc\u30d0(\u5782\u76f4\u30b9\u30b1\u30fc\u30eb)\n  - type: Server\n    name: \"server\"\n    selector:\n      names: [\"example\"]\n      zones: [\"is1a\"]\n    shutdown_force: true\n\n    # \u89aa\u30ea\u30bd\u30fc\u30b9(GSLB)\n    # GSLB\u914d\u4e0b\u306e\u30b5\u30fc\u30d0\u304c\u5782\u76f4\u30b9\u30b1\u30fc\u30eb\u3059\u308b\u969b\u306b\u30b5\u30fc\u30d0\u306e\u30c7\u30bf\u30c3\u30c1&amp;\u30a2\u30bf\u30c3\u30c1\u304c\u884c\u308f\u308c\u308b\n    parent:\n      type: GSLB\n      selector: \"example-gslb\"\n\n# \u30ab\u30b9\u30bf\u30e0\u30cf\u30f3\u30c9\u30e9\u30fc\u306e\u5b9a\u7fa9\n# handlers:\n#   - name: \"fake\"\n#     endpoint: \"unix:autoscaler-handlers-fake.sock\"\n\n# \u30aa\u30fc\u30c8\u30b9\u30b1\u30fc\u30e9\u30fc\u306e\u52d5\u4f5c\u8a2d\u5b9a\nautoscaler:\n  cooldown: 600 \n\n# \u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9 API\u95a2\u9023\n# sakuracloud:\n#   # Usacloud\u4e92\u63db\u306e\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u6a5f\u80fd\u3067API\u30ad\u30fc\u3092\u6307\u5b9a\n#   profile: \"&lt;your-profile-name&gt;\"\n#\n#   # API\u30ad\u30fc\u306e\u76f4\u63a5\u6307\u5b9a\u3082\u53ef\u80fd\n#   token: \"&lt;your-token&gt;\"\n#   secret: \"&lt;your-secret&gt;\"\n</code></pre>"},{"location":"configuration/#_2","title":"\u30b9\u30ad\u30fc\u30de","text":"<ul> <li>&lt;top_level&gt;</li> <li>&lt;resource_definition&gt; <ul> <li>&lt;resource_def_elb&gt;</li> <li>&lt;resource_def_router&gt;</li> <li>&lt;resource_def_server&gt;</li> <li>&lt;resource_def_server_group&gt;</li> </ul> </li> <li>&lt;parent_definition&gt;</li> <li>&lt;resource_selector&gt;</li> <li>&lt;name_or_resource_selector&gt;</li> <li>&lt;id_or_name_or_resource_selector&gt;</li> <li>&lt;handler&gt;</li> <li>&lt;autoscaler_config&gt;</li> </ul>"},{"location":"configuration/#_3","title":"\u57fa\u672c\u30c7\u30fc\u30bf\u578b","text":"<ul> <li>: \u6587\u5b57\u5217 <li>: \u771f\u507d\u5024 <li>: \u6570\u5024 <li>: \u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\u3002\u76f8\u5bfe\u30d1\u30b9\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001AutoScaler Core\u306e\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u57fa\u6e96"},{"location":"configuration/#top_level","title":"&lt;top_level&gt;","text":"<pre><code># \u30aa\u30fc\u30c8\u30b9\u30b1\u30fc\u30eb\u5bfe\u8c61\u30ea\u30bd\u30fc\u30b9\u306e\u5b9a\u7fa9\nresources:\n        [ - &lt;resource_definition&gt; ]\n\n# \u30ab\u30b9\u30bf\u30e0\u30cf\u30f3\u30c9\u30e9\u30fc\u306e\u30ea\u30b9\u30c8(\u7701\u7565\u53ef\u80fd)\nhandlers:\n        [ - &lt;handler&gt; ]\n\n# \u30aa\u30fc\u30c8\u30b9\u30b1\u30fc\u30e9\u30fc\u306e\u52d5\u4f5c\u8a2d\u5b9a(\u7701\u7565\u53ef\u80fd)\nautoscaler:\n  &lt;autoscaler_config&gt;\n\n# \u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9API\u95a2\u9023\u8a2d\u5b9a(\u7701\u7565\u53ef\u80fd)\n# Note: API\u30ad\u30fc\u306b\u306f\u30a2\u30af\u30bb\u30b9\u30ec\u30d9\u30eb`\u4f5c\u6210\u30fb\u524a\u9664`\u307e\u305f\u306f`\u8a2d\u5b9a\u7de8\u96c6`\u304c\u5fc5\u8981\u3067\u3059\nsakuracloud:\n  # Usacloud\u4e92\u63db\u306e\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306e\u540d\u79f0\n  # \u74b0\u5883\u5909\u6570SAKURACLOUD_PROFILE\u3067\u306e\u6307\u5b9a\u3082\u53ef\u80fd\n  # \u7701\u7565\u3057\u305f\u5834\u5408\u306f~/.usacloud/current\u306e\u5024\u3092\u53c2\u7167\u3057\u307e\u3059\n  profile: &lt;string&gt;\n\n  # API\u30c8\u30fc\u30af\u30f3\u3001\u7701\u7565\u3057\u305f\u5834\u5408\u306f\u74b0\u5883\u5909\u6570SAKURACLOUD_ACCESS_TOKEN\u3092\u53c2\u7167\u3057\u307e\u3059\n  token: &lt;string&gt;\n  # API\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u3001\u7701\u7565\u3057\u305f\u5834\u5408\u306f\u74b0\u5883\u5909\u6570SAKURACLOUD_ACCESS_TOKEN_SECRET\u3092\u53c2\u7167\u3057\u307e\u3059\n  secret:  &lt;string&gt;\n</code></pre>"},{"location":"configuration/#resource_definition","title":"&lt;resource_definition&gt;","text":"<p>\u64cd\u4f5c\u5bfe\u8c61\u3068\u306a\u308b\u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u4e0a\u306e\u30ea\u30bd\u30fc\u30b9\u306e\u5b9a\u7fa9 resource_def_xxx\u306e\u3044\u305a\u308c\u304b\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002</p> <pre><code>&lt;resource_def_elb&gt; | &lt;resource_def_router&gt; | &lt;resource_def_server&gt; | &lt;resource_def_server_group&gt;\n</code></pre>"},{"location":"configuration/#resource_def_elb","title":"&lt;resource_def_elb&gt;","text":"<p>\u30a8\u30f3\u30cf\u30f3\u30b9\u30c9\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u306e\u5b9a\u7fa9\u3002 \u3053\u3053\u3067\u5b9a\u7fa9\u3057\u305f\u30ea\u30bd\u30fc\u30b9\u306f\u5782\u76f4\u30b9\u30b1\u30fc\u30eb\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059(\u30cf\u30f3\u30c9\u30e9<code>elb-vertical-scaler</code>)\u3002  </p> <pre><code>type: \"ELB\" # or EnhancedLoadBalancer\nname: &lt;string&gt;\nselector:\n  # id\u304bnames or tags\u306e\u3069\u3061\u3089\u304b\u3092\u6307\u5b9a\u3001\u5fc5\u9808\n  id: &lt;string&gt; | &lt;number&gt;\n  # \u90e8\u5206\u4e00\u81f4\u3001\u8907\u6570\u6307\u5b9a\u3057\u305f\u5834\u5408\u306fAND\u7d50\u5408\n  names:\n          [ - &lt;string&gt; ]\n  tags:\n          [ - &lt;string&gt; ]\n# \u5782\u76f4\u30b9\u30b1\u30fc\u30eb\u3055\u305b\u308b\u7bc4\u56f2(\u7701\u7565\u53ef\u80fd)\nplans:\n  [ - name: &lt;string&gt; # \u30d7\u30e9\u30f3\u540d\u3001\u7701\u7565\u53ef\u80fd \n      cps: &lt;number&gt; ]\n\n# \u30b9\u30b1\u30fc\u30eb\u5f8c\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u7336\u4e88\u6642\u9593(\u7701\u7565\u6642\u306f0\u79d2)\nsetup_grace_period: &lt;number&gt;\n</code></pre> <p><code>plans</code>\u3092\u7701\u7565\u3057\u305f\u5834\u5408\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002</p> <pre><code># ELB\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u5782\u76f4\u30b9\u30b1\u30fc\u30eb\u7bc4\u56f2\nplans:\n  - cps: 100\n  - cps: 500\n  - cps: 1000\n  - cps: 5000\n  - cps: 10000\n  - cps: 50000\n  - cps: 100000\n  - cps: 400000\n</code></pre>"},{"location":"configuration/#resource_def_router","title":"&lt;resource_def_router&gt;","text":"<p>\u30eb\u30fc\u30bf\u306e\u5b9a\u7fa9\u3002 \u3053\u3053\u3067\u5b9a\u7fa9\u3057\u305f\u30ea\u30bd\u30fc\u30b9\u306f\u5782\u76f4\u30b9\u30b1\u30fc\u30eb\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059(\u30cf\u30f3\u30c9\u30e9<code>router-vertical-scaler</code>)\u3002  </p> <pre><code>type: \"Router\"\nname: &lt;string&gt;\nselector:\n  # id\u304bnames or tags\u306e\u3069\u3061\u3089\u304b\u3092\u6307\u5b9a\u3001\u5fc5\u9808\n  id: &lt;string&gt; | &lt;number&gt;\n  # \u90e8\u5206\u4e00\u81f4\u3001\u8907\u6570\u6307\u5b9a\u3057\u305f\u5834\u5408\u306fAND\u7d50\u5408\n  names:\n          [ - &lt;string&gt; ]\n  tags:\n          [ - &lt;string&gt; ]\n  # \u30be\u30fc\u30f3(\u5fc5\u9808) \n  zones:\n          [ - &lt;\"is1a\" | \"is1b\" | \"tk1a\" | \"tk1b\" | \"tk1v\"&gt; ]\n# \u5782\u76f4\u30b9\u30b1\u30fc\u30eb\u3055\u305b\u308b\u7bc4\u56f2(\u7701\u7565\u53ef\u80fd)\nplans:\n  [ - name: &lt;string&gt; # \u30d7\u30e9\u30f3\u540d\u3001\u7701\u7565\u53ef\u80fd \n      band_width: &lt;number&gt; ]\n\n# \u30b9\u30b1\u30fc\u30eb\u5f8c\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u7336\u4e88\u6642\u9593(\u7701\u7565\u6642\u306f0\u79d2)\nsetup_grace_period: &lt;number&gt;\n</code></pre> <p><code>plans</code>\u3092\u7701\u7565\u3057\u305f\u5834\u5408\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002</p> <pre><code># \u30eb\u30fc\u30bf\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u5782\u76f4\u30b9\u30b1\u30fc\u30eb\u7bc4\u56f2\nplans:\n  - band_width: 100\n  - band_width: 250\n  - band_width: 500\n  - band_width: 1000\n  - band_width: 1500\n  - band_width: 2000\n  - band_width: 2500\n  - band_width: 3000\n  - band_width: 3500\n  - band_width: 4000\n  - band_width: 4500\n  - band_width: 5000\n</code></pre>"},{"location":"configuration/#resource_def_server","title":"&lt;resource_def_server&gt;","text":"<p>\u30b5\u30fc\u30d0\u306e\u5b9a\u7fa9\u3002 \u3053\u3053\u3067\u5b9a\u7fa9\u3057\u305f\u30ea\u30bd\u30fc\u30b9\u306f\u5782\u76f4\u30b9\u30b1\u30fc\u30eb\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059(\u30cf\u30f3\u30c9\u30e9<code>server-vertical-scaler</code>)\u3002 <code>parent</code>\u3092\u5b9a\u7fa9\u3057\u305f\u5834\u5408\u3001\u30b5\u30fc\u30d0\u306e\u5782\u76f4\u30b9\u30b1\u30fc\u30eb\u524d\u5f8c\u306b<code>parent</code>\u304c\u793a\u3059\u30ea\u30bd\u30fc\u30b9\u304b\u3089\u306e\u30c7\u30bf\u30c3\u30c1/\u30a2\u30bf\u30c3\u30c1\u304c\u884c\u308f\u308c\u307e\u3059\u3002</p> <pre><code>type: \"Server\"\nname: &lt;string&gt;\nselector:\n  # id\u304bnames or tags\u306e\u3069\u3061\u3089\u304b\u3092\u6307\u5b9a\u3001\u5fc5\u9808\n  id: &lt;string&gt; | &lt;number&gt;\n  # \u90e8\u5206\u4e00\u81f4\u3001\u8907\u6570\u6307\u5b9a\u3057\u305f\u5834\u5408\u306fAND\u7d50\u5408\n  names:\n          [ - &lt;string&gt; ]\n  tags:\n          [ - &lt;string&gt; ]\n  # \u30be\u30fc\u30f3(\u5fc5\u9808) \n  zones:\n          [ - &lt;\"is1a\" | \"is1b\" | \"tk1a\" | \"tk1b\" | \"tk1v\"&gt; ]\n\n# \u30b3\u30a2\u5c02\u6709\u30d7\u30e9\u30f3\u3092\u5229\u7528\u3059\u308b\u304b\ndedicated_cpu: &lt;bool&gt;\n\n# \u5f37\u5236\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3092\u884c\u3046\u304b(ACPI\u304c\u5229\u7528\u3067\u304d\u306a\u3044\u30b5\u30fc\u30d0\u306e\u5834\u5408true\u306b\u3059\u308b)\nshutdown_force: &lt;bool&gt; \n\n# \u5782\u76f4\u30b9\u30b1\u30fc\u30eb\u3055\u305b\u308b\u7bc4\u56f2(\u7701\u7565\u53ef\u80fd)\nplans:\n  [ - name: &lt;string&gt; # \u30d7\u30e9\u30f3\u540d\u3001\u7701\u7565\u53ef\u80fd \n      core: &lt;number&gt; # \u30b3\u30a2\u6570\n      memory: &lt;number&gt; #\u30e1\u30e2\u30ea\u30b5\u30a4\u30ba\u3001GB\u5358\u4f4d \n  ]\n\n# \u30b9\u30b1\u30fc\u30eb\u5f8c\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u7336\u4e88\u6642\u9593(\u7701\u7565\u6642\u306f60\u79d2)\nsetup_grace_period: &lt;number&gt;\n\n# \u89aa\u30ea\u30bd\u30fc\u30b9\u306e\u5b9a\u7fa9(\u7701\u7565\u53ef\u80fd)\nparent: &lt;parent_definition&gt;\n</code></pre> <p><code>plans</code>\u3092\u7701\u7565\u3057\u305f\u5834\u5408\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002</p> <pre><code># \u30b5\u30fc\u30d0\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u5782\u76f4\u30b9\u30b1\u30fc\u30eb\u7bc4\u56f2\nplans:\n  - core: 2\n    memory: 4\n  - core: 4\n    memory: 8\n  - core: 4\n    memory: 16\n  - core: 8\n    memory: 16\n  - core: 10\n    memory: 24\n  - core: 10\n    memory: 32\n  - core: 10\n    memory: 48\n</code></pre>"},{"location":"configuration/#resource_def_server_group","title":"&lt;resource_def_server_group&gt;","text":"<p>\u30b5\u30fc\u30d0\u30b0\u30eb\u30fc\u30d7\u306e\u5b9a\u7fa9\u3002 \u3053\u3053\u3067\u5b9a\u7fa9\u3057\u305f\u30ea\u30bd\u30fc\u30b9\u306f\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059(\u30cf\u30f3\u30c9\u30e9<code>server-horizontal-scaler</code>)\u3002 <code>parent</code>\u3092\u5b9a\u7fa9\u3057\u305f\u5834\u5408\u3001\u30b5\u30fc\u30d0\u306e\u5782\u76f4\u30b9\u30b1\u30fc\u30eb\u524d\u5f8c\u306b<code>parent</code>\u304c\u793a\u3059\u30ea\u30bd\u30fc\u30b9\u304b\u3089\u306e\u30c7\u30bf\u30c3\u30c1/\u30a2\u30bf\u30c3\u30c1\u304c\u884c\u308f\u308c\u307e\u3059\u3002</p> <pre><code>type: \"ServerGroup\"\nname: &lt;string&gt; \n\n# \u5bfe\u8c61\u30b5\u30fc\u30d0\u306e\u6307\u5b9a\nserver_name_prefix: &lt;string&gt; #\u30b0\u30eb\u30fc\u30d7\u5185\u306e\u5404\u30b5\u30fc\u30d0\u540d\u306e\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3001\u7701\u7565\u3057\u305f\u5834\u5408\u306fname\u304c\u5229\u7528\u3055\u308c\u308b\nserver_name_format: &lt;string&gt; #\u30b0\u30eb\u30fc\u30d7\u5185\u306e\u5404\u30b5\u30fc\u30d0\u540d\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3001\u7701\u7565\u3057\u305f\u5834\u5408\u306f\"%s-%03d\"\u304c\u5229\u7528\u3055\u308c\u308b\nzones: [ - &lt;\"is1a\" | \"is1b\" | \"tk1a\" | \"tk1b\" | \"tk1v\"&gt; ]\n\n# \u6700\u5c0f/\u6700\u5927\u30b5\u30fc\u30d0\u6570\nmin_size: &lt;number&gt;\nmax_size: &lt;number&gt;\n\n# \u540d\u524d\u4ed8\u304d\u30d7\u30e9\u30f3(\u30b5\u30fc\u30d0\u30b0\u30eb\u30fc\u30d7\u306e\u5834\u5408\u306f\u30b5\u30fc\u30d0\u6570\u3092\u30d7\u30e9\u30f3\u3068\u3057\u3066\u8868\u3059)\nplans:\n  [ - name: &lt;string&gt; # \u30d7\u30e9\u30f3\u540d\u3001\u7701\u7565\u53ef\u80fd \n      size: &lt;number&gt; # \u30b5\u30fc\u30d0\u6570\n  ]\n\n# \u30b9\u30b1\u30fc\u30eb\u5f8c\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u7336\u4e88\u6642\u9593(\u7701\u7565\u6642\u306f0\u79d2)\nsetup_grace_period: &lt;number&gt;\n\n# \u5f37\u5236\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3092\u884c\u3046\u304b(ACPI\u304c\u5229\u7528\u3067\u304d\u306a\u3044\u30b5\u30fc\u30d0\u306e\u5834\u5408true\u306b\u3059\u308b)\nshutdown_force: &lt;bool&gt;\n\n# \u30b0\u30eb\u30fc\u30d7\u5185\u306e\u30b5\u30fc\u30d0\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\ntemplate:\n  use_group_tag: &lt;bool&gt; # @group\u30bf\u30b0\u306b\u3088\u308b\u30db\u30b9\u30c8\u5206\u6563\u3092\u884c\u3046\u304b\n  tags: [ - &lt;string&gt; ] \n  description: &lt;string&gt;\n\n  icon: &lt;id_or_name_or_selector&gt;\n  cdrom: &lt;id_or_name_or_selector&gt;\n  private_host: &lt;id_or_name_or_selector&gt;\n\n  interface_driver: &lt;\"virtio\" | \"e1000\" | default=\"virtio\"&gt;\n\n  plan:\n    core: &lt;number&gt;           # \u30b3\u30a2\u6570\n    memory: &lt;number&gt;         # \u30e1\u30e2\u30ea\u30b5\u30a4\u30ba\u3001GB\u5358\u4f4d \n    dedicated_cpu: &lt;bool&gt;    # \u30b3\u30a2\u5c02\u6709\u306e\u5834\u5408true\n    cpu_model: &lt;\"amd_epyc_7713p\" | \"\" | default=\"\"&gt;\n    gpu: &lt;number&gt;            # GPU\n\n  # \u63a5\u7d9a\u3059\u308b\u30c7\u30a3\u30b9\u30af\u3092\u30ea\u30b9\u30c8\u3067\u6307\u5b9a  \n  disks:\n    [ - name_format: \"%s-disk%03d\" # \u7701\u7565\u3057\u305f\u5834\u5408\u306f '\u30b5\u30fc\u30d0\u540d+\u30c7\u30a3\u30b9\u30af\u9023\u756a' (\u4f8b: server-group-001-disk001)\n        tags: [ - &lt;string&gt; ]\n        description: &lt;string&gt;\n\n        icon: &lt;id_or_name_or_selector&gt;\n\n        source_archive: &lt;name_or_resource_selector&gt;\n        source_disk: &lt;name_or_resource_selector&gt;\n        os_type: &lt;string&gt; # \u6307\u5b9a\u53ef\u80fd\u306a\u5024\u306f https://github.com/sacloud/iaas-api-go/blob/7cfcd90757d27993640bbc412e7e32526ba9218b/ostype/archive_ostype.go#L97 \u3092\u53c2\u7167\n\n        plan: &lt;\"ssd\" | \"hdd\"&gt;\n        connection: &lt;\"virtio\" | \"ide\"&gt;\n        size: &lt;number&gt;\n    ]\n\n  # \u30c7\u30a3\u30b9\u30af\u306e\u4fee\u6b63\u30d1\u30e9\u30e1\u30fc\u30bf\u3001cloud_config\u3068\u306e\u4f75\u7528\u306f\u51fa\u6765\u306a\u3044\n  edit_parameter:\n    disabled: &lt;bool&gt;        # \u30c7\u30a3\u30b9\u30af\u306e\u4fee\u6b63\u3092\u884c\u308f\u306a\u3044\u5834\u5408true\n    host_name_format: \"%s-%03d\" # \u30db\u30b9\u30c8\u540d\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u3001\u30b5\u30fc\u30d0\u540d\u3068\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c\u5229\u7528\u53ef\u80fd(\u4f8b: %s-%02d)\u3002\u7701\u7565\u3057\u305f\u5834\u5408\u306f\u30b5\u30fc\u30d0\u540d\u304c\u5229\u7528\u3055\u308c\u308b\n    password: &lt;string&gt;\n    disable_pw_auth: &lt;bool&gt;\n    enable_dhcp: &lt;bool&gt;\n    change_partition_uuid: &lt;bool&gt;\n    startup_scripts: [ - &lt;string&gt; | &lt;filepath&gt; ]\n    ssh_keys: [ - &lt;string&gt; | &lt;filepath&gt; ]\n\n  # cloud-init\u7528\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3001edit_parameter\u3068\u306e\u4f75\u7528\u306f\u51fa\u6765\u306a\u3044  \n  cloud_config: &lt;string&gt; | &lt;filepath&gt;\n\n  network_interfaces:\n    # \u4e0a\u6d41\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\n    upstream: &lt;\"shared\"&gt; | &lt;resource_selector&gt;\n\n    packet_filter: &lt;id_or_name_or_selector&gt;\n    # \u4ee5\u4e0b\u306fupstream\u304cshared\u4ee5\u5916\u306e\u5834\u5408\u306e\u307f\u6307\u5b9a\u53ef\u80fd\n    assign_cidr_block: &lt;string&gt;\n    assign_netmask_len: &lt;int&gt;\n    default_route: &lt;string&gt;\n\n    # \u4e0a\u6d41\u30ea\u30bd\u30fc\u30b9\u306e\u64cd\u4f5c\u306e\u305f\u3081\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\n    # \u30b5\u30fc\u30d0\u30b0\u30eb\u30fc\u30d7\u306e\u4e0a\u6d41\u306bELB/GSLB/LB/DNS\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u5834\u5408\u306e\u307f\u6307\u5b9a\u53ef\u80fd\n    expose:\n      # \u516c\u958b\u3059\u308b\u30dd\u30fc\u30c8\u756a\u53f7\u306e\u30ea\u30b9\u30c8\n      ports: [ - &lt;number&gt; ] \n\n      # ELB\u5411\u3051: \u5b9f\u30b5\u30fc\u30d0\u767b\u9332\u6642\u306e\u30b5\u30fc\u30d0\u30b0\u30eb\u30fc\u30d7\u540d\n      server_group_name: &lt;string&gt;\n\n      # GSLB\u5411\u3051: \u5b9f\u30b5\u30fc\u30d0\u767b\u9332\u6642\u306e\u91cd\u307f\u5024\n      weight: &lt;number&gt;\n\n      # LB\u5411\u3051: \u5bfe\u8c61VIP\u306e\u30ea\u30b9\u30c8\n      # \u7701\u7565\u3057\u305f\u5834\u5408\u3001\u3053\u306eNIC\u3068\u540c\u3058\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u5185\u306b\u5b58\u5728\u3059\u308bVIP\u5168\u3066\u304c\u5bfe\u8c61\u3068\u306a\u308b\n      vips: [ - &lt;string&gt; ]\n\n      # LB\u5411\u3051: \u5b9f\u30b5\u30fc\u30d0\u767b\u9332\u6642\u306e\u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af\n      health_check:\n        # \u30d8\u30eb\u30b9\u30c1\u30a7\u30c3\u30af\u3067\u7528\u3044\u308b\u30d7\u30ed\u30c8\u30b3\u30eb\n        protocol: &lt; \"http\" | \"https\" | \"ping\" | \"tcp\" &gt;\n\n        # \u30d7\u30ed\u30c8\u30b3\u30eb\u304chttp/https\u306e\u5834\u5408\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u30d1\u30b9 \u4f8b:/index.html\n        path: &lt;string&gt;\n        # \u30d7\u30ed\u30c8\u30b3\u30eb\u304chttp/https\u306e\u5834\u5408\u306e\u671f\u5f85\u3059\u308b\u30ec\u30b9\u30dd\u30f3\u30b9\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9\n        status_code: &lt;number&gt;\n\n      # DNS\u5411\u3051: \u30ec\u30b3\u30fc\u30c9\u767b\u9332\u6642\u306e\u30ec\u30b3\u30fc\u30c9\u540d \u4f8b:www\n      record_name: &lt;string&gt;\n      # DNS\u5411\u3051: \u30ec\u30b3\u30fc\u30c9\u767b\u9332\u6642\u306eTTL\n      record_ttl: &lt;number&gt;\n\n# \u89aa\u30ea\u30bd\u30fc\u30b9\u306e\u5b9a\u7fa9(\u7701\u7565\u53ef\u80fd)\nparent: &lt;parent_definition&gt;\n</code></pre> <p><code>plans</code>\u3092\u7701\u7565\u3057\u305f\u5834\u5408\u3001<code>size</code>\u306b<code>min_size</code>\u304b\u3089<code>max_size</code>\u307e\u3067\u306e\u5024\u3092\u6301\u3064\u30d7\u30e9\u30f3\u304c\u5b58\u5728\u3059\u308b\u3068\u307f\u306a\u3057\u307e\u3059\u3002</p> <p><code>template.plan</code>\u306e\u6307\u5b9a\u4f8b\u306fTips\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"configuration/#parent_definition","title":"&lt;parent_definition&gt;","text":"<pre><code>type: &lt; \"DNS\" | \"EnhancedLoadBalancer\" | \"ELB\" | \"GSLB\" | \"LoadBalancer\" &gt;\nselector: &lt;name_or_resource_selector&gt;\n</code></pre>"},{"location":"configuration/#resource_selector","title":"&lt;resource_selector&gt;","text":"<pre><code>id: &lt;string&gt;\nnames: [ - &lt;string&gt; ]\ntags: [ - &lt;string&gt; ]\n</code></pre>"},{"location":"configuration/#name_or_resource_selector","title":"&lt;name_or_resource_selector&gt;","text":"<pre><code>&lt;string&gt; | &lt;resource_selector&gt;\n</code></pre> <p>\u6587\u5b57\u5217\u304c\u6307\u5b9a\u3055\u308c\u305f\u5834\u5408\u306fnames\u306e\u307f\u304c\u6307\u5b9a\u3055\u308c\u305fresource_selector\u3068\u540c\u7b49\u3068\u307f\u306a\u3057\u307e\u3059\u3002</p> <pre><code># \u6587\u5b57\u5217\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\nselector: \"name\"\n\n# \u4ee5\u4e0b\u3068\u540c\u7b49\n# selector:\n#   names: [\"name\"]\n</code></pre>"},{"location":"configuration/#id_or_name_or_resource_selector","title":"&lt;id_or_name_or_resource_selector&gt;","text":"<pre><code>&lt;string&gt; | &lt;name_or_resource_selector&gt;\n</code></pre> <p>\u6587\u5b57\u5217\u304c\u6307\u5b9a\u3055\u308c\u305f\u5834\u5408\u3001\u6570\u5024\u306b\u5909\u63db\u3067\u304d\u308c\u3070ID\u3068\u3057\u3066\u3001\u305d\u308c\u4ee5\u5916\u306fname_or_resource_selector\u3068\u3057\u3066\u6271\u308f\u308c\u307e\u3059\u3002</p>"},{"location":"configuration/#handler","title":"&lt;handler&gt;","text":"<p>\u30ab\u30b9\u30bf\u30e0\u30cf\u30f3\u30c9\u30e9\u30fc\u306e\u5b9a\u7fa9\u3002</p> <pre><code>name: &lt;string&gt; #\u30cf\u30f3\u30c9\u30e9\u540d\nendpoint: &lt;string&gt; #gRPC\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u30a2\u30c9\u30ec\u30b9(\u4f8b: unix:/var/run/your-custom-handler.sock)\n</code></pre>"},{"location":"configuration/#autoscaler_config","title":"&lt;autoscaler_config&gt;","text":"<p>\u30aa\u30fc\u30c8\u30b9\u30b1\u30fc\u30e9\u30fc\u306e\u52d5\u4f5c\u8a2d\u5b9a</p> <pre><code>cooldown: # \u540c\u4e00\u30b8\u30e7\u30d6\u306e\u9023\u7d9a\u5b9f\u884c\u3092\u6291\u5236\u3059\u308b\u305f\u3081\u306e\u30af\u30fc\u30eb\u30c0\u30a6\u30f3\u671f\u9593\u3001\u79d2\u5358\u4f4d\u3067\u6307\u5b9a\n  up: &lt;number | default = 600&gt;\n  down: &lt;number | default = 600&gt;\n\n# \u30d3\u30eb\u30c8\u30a4\u30f3\u30cf\u30f3\u30c9\u30e9\u306e\u8a2d\u5b9a\nhandlers_config:\n  disabled: &lt;bool&gt; # \u3059\u3079\u3066\u306e\u30d3\u30eb\u30c8\u30a4\u30f3\u30cf\u30f3\u30c9\u30e9\u306e\u7121\u52b9\u5316(handlers\u3067\u306e\u6307\u5b9a\u3088\u308a\u512a\u5148\u3055\u308c\u308b)\n  handlers:        # \u30d3\u30eb\u30c8\u30a4\u30f3\u30cf\u30f3\u30c9\u30e9\u3054\u3068\u306e\u8a2d\u5b9a\u3001\u30cf\u30f3\u30c9\u30e9\u540d\u3092\u30ad\u30fc\u306b\u3082\u3064map\n    &lt;string&gt;:          # \u30d3\u30eb\u30c8\u30a4\u30f3\u30cf\u30f3\u30c9\u30e9\u540d\n      disabled: &lt;bool&gt; # \u3053\u306e\u30cf\u30f3\u30c9\u30e9\u3092\u7121\u52b9\u5316\u3059\u308b\u304b\n\n# Exporter\u306e\u8a2d\u5b9a\nexporter_config:\n  enabled: &lt;bool&gt;\n  address: &lt;string | default=\":8081\"&gt;\n</code></pre>"},{"location":"exporter/","title":"Exporter","text":""},{"location":"exporter/#exporter","title":"Exporter\u306b\u3064\u3044\u3066","text":"<p>AutoScaler\u3067\u306fPrometheus\u5411\u3051\u306b\u5404\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u30e1\u30c8\u30ea\u30af\u30b9\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"exporter/#exporter_1","title":"Exporter\u306e\u8d77\u52d5\u65b9\u6cd5","text":"<p>\u5404\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u3066Exporter\u306e\u8a2d\u5b9a\u3092\u8a18\u8f09\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"exporter/#inputs","title":"Inputs","text":"<p>Inputs\u306e\u8d77\u52d5\u6642\u306b<code>--config</code>\u3067\u6e21\u3059\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u3066\u8a2d\u5b9a\u3057\u307e\u3059\u3002  </p> <pre><code># Exporter\u306e\u8a2d\u5b9a\nexporter_config:\n  enabled: &lt;bool&gt;\n  address: &lt;string | default=\":8081\"&gt;\n</code></pre> <p>\u8a73\u7d30\u306fInputs\u306e\u5171\u901a\u8a2d\u5b9a\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"exporter/#core","title":"Core","text":"<p>Core\u306e\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u4e2d\u3067\u8a2d\u5b9a\u3057\u307e\u3059\u3002</p> <pre><code>autoscaler:\n  # Exporter\u306e\u8a2d\u5b9a\n  exporter_config:\n    enabled: &lt;bool&gt;\n    address: &lt;string | default=\":8081\"&gt;\n</code></pre> <p>\u8a73\u7d30\u306f\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3 \u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"exporter/#_1","title":"\u30e1\u30c8\u30ea\u30af\u30b9","text":"<p>\u4ee5\u4e0b\u306e\u30e1\u30c8\u30ea\u30af\u30b9\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"exporter/#grpc","title":"gRPC\u95a2\u9023","text":"<ul> <li><code>sacloud_autoscaler_grpc_errors_total</code>: gRPC\u30b3\u30fc\u30eb\u306e\u30a8\u30e9\u30fc\u6570</li> </ul> <p>\u30e9\u30d9\u30eb\u3068\u3057\u3066\u547c\u3073\u51fa\u3057\u5143 or \u547c\u3073\u51fa\u3057\u5148\u306e\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u540d\u3092\u6301\u3064</p>"},{"location":"exporter/#webhook","title":"Webhook\u95a2\u9023","text":"<ul> <li><code>sacloud_autoscaler_webhook_requests_total</code>:  <code>/up</code>+<code>/down</code>\u3078\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u7dcf\u6570</li> <li><code>sacloud_autoscaler_webhook_requests_up</code>: <code>/up</code>\u3078\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u6570</li> <li><code>sacloud_autoscaler_webhook_requests_down</code>: <code>/down</code>\u3078\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u6570</li> </ul> <p>\u30e9\u30d9\u30eb\u3068\u3057\u3066\u30b9\u30c6\u30fc\u30bf\u30b9\u30b3\u30fc\u30c9(200 or 400 or 500)\u3092\u6301\u3064</p>"},{"location":"exporter/#inputs_1","title":"Inputs\u3067\u306e\u51fa\u529b\u4f8b","text":"<pre><code># HELP sacloud_autoscaler_grpc_errors_total The total number of errors\n# TYPE sacloud_autoscaler_grpc_errors_total counter\nsacloud_autoscaler_grpc_errors_total{component=\"inputs_to_core\"} 0\n\n# HELP sacloud_autoscaler_webhook_requests_down A counter for requests to the /down webhook\n# TYPE sacloud_autoscaler_webhook_requests_down counter\nsacloud_autoscaler_webhook_requests_down{code=\"200\"} 0\nsacloud_autoscaler_webhook_requests_down{code=\"400\"} 0\nsacloud_autoscaler_webhook_requests_down{code=\"500\"} 0\n\n# HELP sacloud_autoscaler_webhook_requests_total A counter for requests to the webhooks\n# TYPE sacloud_autoscaler_webhook_requests_total counter\nsacloud_autoscaler_webhook_requests_total{code=\"200\"} 0\nsacloud_autoscaler_webhook_requests_total{code=\"400\"} 0\nsacloud_autoscaler_webhook_requests_total{code=\"500\"} 0\n\n# HELP sacloud_autoscaler_webhook_requests_up A counter for requests to the /up webhook\n# TYPE sacloud_autoscaler_webhook_requests_up counter\nsacloud_autoscaler_webhook_requests_up{code=\"200\"} 0\nsacloud_autoscaler_webhook_requests_up{code=\"400\"} 0\nsacloud_autoscaler_webhook_requests_up{code=\"500\"} 0\n</code></pre>"},{"location":"exporter/#core_1","title":"Core\u3067\u306e\u51fa\u529b\u4f8b","text":"<pre><code># HELP sacloud_autoscaler_grpc_errors_total The total number of errors\n# TYPE sacloud_autoscaler_grpc_errors_total counter\nsacloud_autoscaler_grpc_errors_total{component=\"core\"} 0\nsacloud_autoscaler_grpc_errors_total{component=\"core_to_handlers\"} 0\n</code></pre>"},{"location":"getting_started/","title":"Getting Started Guide","text":""},{"location":"getting_started/#_1","title":"\u5229\u7528\u307e\u3067\u306e\u6d41\u308c","text":"<ul> <li>\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb</li> <li>Core\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210</li> <li>Core\u306e\u8d77\u52d5</li> <li>Inputs\u306e\u8d77\u52d5</li> <li>Grafana/AlertManager\u306e\u8a2d\u5b9a</li> </ul>"},{"location":"getting_started/#_2","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>GitHub Releases\u304b\u3089\u5b9f\u884c\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002  </p> <p>sacloud/autoscaler \u30ea\u30ea\u30fc\u30b9\u30da\u30fc\u30b8</p> <p>\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u305f\u3089\u9069\u5207\u306a\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u4fdd\u5b58/\u5c55\u958b\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>CLI\u306e\u5229\u7528\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306fCLI\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"getting_started/#docker","title":"Docker\u3092\u5229\u7528\u3059\u308b\u5834\u5408","text":"<p>GitHub Container Registry\u3067Docker\u30a4\u30e1\u30fc\u30b8\u3092\u914d\u5e03\u3057\u3066\u3044\u307e\u3059\u3002 Docker\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002  </p> <pre><code># Core\u3092\u8d77\u52d5\u3059\u308b\u5834\u5408(Unix\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\u3067\u30ea\u30c3\u30b9\u30f3)\n$ docker run -d -w /work -d /your/work/dir:/work ghcr.io/sacloud/autoscaler start\n\n# Grafana Inputs\u3092\u8d77\u52d5\u3059\u308b\u5834\u5408(Core\u3068\u306fVolume\u7d4c\u7531\u3067Unix\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\u3092\u53d7\u3051\u6e21\u3057\u3066\u901a\u4fe1\u3059\u308b)\n$ docker run -d -w /work -d /your/work/dir:/work ghcr.io/sacloud/autoscaler inputs grafana --addr \":8080\"\n\n# AlertManager Inputs\u3092\u8d77\u52d5\u3059\u308b\u5834\u5408(Core\u3068\u306fVolume\u7d4c\u7531\u3067Unix\u30c9\u30e1\u30a4\u30f3\u30bd\u30b1\u30c3\u30c8\u3092\u53d7\u3051\u6e21\u3057\u3066\u901a\u4fe1\u3059\u308b)\n$ docker run -d -w /work -d /your/work/dir:/work ghcr.io/sacloud/autoscaler inputs alertmanager --addr \":8080\"\n</code></pre>"},{"location":"getting_started/#docker-compose","title":"Docker Compose\u3092\u5229\u7528\u3059\u308b\u5834\u5408(\u958b\u767a\u74b0\u5883\u5411\u3051)","text":"<p>\u958b\u767a\u74b0\u5883\u3067\u306e\u52d5\u4f5c\u78ba\u8a8d\u5411\u3051\u306bDocker Compose\u3067Prometheus/Grafana/AutoScaler\u306e\u52d5\u4f5c\u78ba\u8a8d\u3092\u884c\u3046\u305f\u3081\u306e\u4f8b\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002 examples/docker-compose\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002  </p>"},{"location":"getting_started/#systemd","title":"systemd\u3092\u5229\u7528\u3059\u308b\u5834\u5408","text":"<p>examples/systemd\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"getting_started/#coreautoscaleryaml","title":"Core\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb(autoscaler.yaml)\u306e\u4f5c\u6210","text":"<p>sacloud/autoscaler\u3092\u5b9f\u884c\u3059\u308b\u306b\u306fYAML\u5f62\u5f0f\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067\u5bfe\u8c61\u30ea\u30bd\u30fc\u30b9\u306e\u5b9a\u7fa9\u306a\u3069\u3092\u884c\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002  </p> <p>\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u96db\u5f62\u306f<code>autoscaler example</code>\u3067\u51fa\u529b\u3067\u304d\u307e\u3059\u3002 \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u8a18\u8f09\u5185\u5bb9\u306b\u3064\u3044\u3066\u306fConfiguration Reference\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"getting_started/#core","title":"Core\u306e\u8d77\u52d5","text":"<p>\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067Core\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002  </p> <pre><code># \u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u3067\u8d77\u52d5\n$ autoscaler start \n</code></pre> <p>\u6307\u5b9a\u53ef\u80fd\u306a\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002</p> <pre><code>$ autoscaler start -h\n\nstart autoscaler's core server\n\nUsage:\n  autoscaler start [flags]...\n\nFlags:\n      --addr string     Address of the gRPC endpoint to listen to (default \"unix:autoscaler.sock\")\n      --config string   File path of configuration of AutoScaler Core (default \"autoscaler.yaml\")\n  -h, --help            help for start\n      --strict          Restricting external file loading, etc. in configuration\n\nGlobal Flags:\n      --log-format string   Format of logging to be output. options: [ logfmt | json ] (default \"logfmt\")\n      --log-level string    Level of logging to be output. options: [ error | warn | info | debug ] (default \"info\")\n</code></pre> <p>Note: Core\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3060\u3068<code>unix:autoscaler.sock</code>\u3067\u30ea\u30c3\u30b9\u30f3\u3057\u307e\u3059\u3002 Inputs\u3092\u5225\u306e\u30de\u30b7\u30f3\u4e0a\u3067\u52d5\u304b\u3059\u5834\u5408\u306a\u3069\u306f<code>--addr</code>\u30d5\u30e9\u30b0\u3067<code>192.0.2.1:8080</code>\u3084<code>your-host-name.com:8080</code>\u306e\u3088\u3046\u306a\u30a2\u30c9\u30ec\u30b9\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002  </p>"},{"location":"getting_started/#inputs","title":"Inputs\u306e\u8d77\u52d5","text":"<p>\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067Inputs\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002</p> <pre><code># Grafana Inputs\u306e\u5834\u5408\n$ autoscaler inputs grafana\n\n# AlertManager Inputs\u306e\u5834\u5408\n$ autoscaler inputs alertmanager\n\n# Zabbix Inputs\u306e\u5834\u5408\n$ autoscaler inputs zabbix\n\n# \u6c4e\u7528Webhook Inputs\u306e\u5834\u5408\n$ autoscaler inputs webhook --accept-http-methods \"POST,PUT\" --executable-path your-executable-path.sh\n\n# Direct Inputs\u306e\u5834\u5408\n$ autoscaler inputs direct up\n</code></pre>"},{"location":"getting_started/#_3","title":"\u5916\u90e8\u76e3\u8996\u30c4\u30fc\u30eb\u5074\u306e\u8a2d\u5b9a","text":"<p>Grafana\u3001AlertManager\u3001\u307e\u305f\u306fZabbix\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u3001\u5404\u30d7\u30ed\u30c0\u30af\u30c8\u5074\u3067\u30a2\u30e9\u30fc\u30c8\u306e\u8a2d\u5b9a\u3001\u304a\u3088\u3073Webhook\u3067\u306e\u901a\u77e5\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u3002 \u8a73\u7d30\u306fInputs\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002  </p>"},{"location":"network/","title":"\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb\u3067\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af","text":"<p>AutoScaler\u306f\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb\u306e\u969b\u3001\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306b\u6cbf\u3063\u3066IP\u30a2\u30c9\u30ec\u30b9/\u30b5\u30d6\u30cd\u30c3\u30c8\u30de\u30b9\u30af\u9577/\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u3092\u5404\u30b5\u30fc\u30d0\u306b\u5272\u308a\u5f53\u3066\u307e\u3059\u3002  </p>"},{"location":"network/#_2","title":"\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb\u6642\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a\u306e\u7b97\u51fa","text":"<p>Core\u306f\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3068\u5bfe\u8c61\u30b5\u30fc\u30d0\u306e\u30b5\u30fc\u30d0\u30b0\u30eb\u30fc\u30d7\u5185\u3067\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u5143\u306b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u8a2d\u5b9a\u3092\u7b97\u51fa\u3057\u3066Handlers\u306b\u6e21\u3057\u307e\u3059\u3002  </p>"},{"location":"network/#_3","title":"\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u95a2\u9023\u9805\u76ee\u306e\u6307\u5b9a","text":"<p>\u307e\u305a\u3001\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u306fNIC\u3054\u3068\u306b\u4ee5\u4e0b\u306e\u60c5\u5831\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p><code>template.network_interfaces</code>\u306e\u8981\u7d20\u3068\u3057\u3066\u4ee5\u4e0b\u3092\u6307\u5b9a:</p> <ul> <li><code>upstream</code>: NIC\u3092\u3069\u3053\u306b\u63a5\u7d9a\u3059\u308b\u304b(\u5171\u6709\u30bb\u30b0\u30e1\u30f3\u30c8 or \u30b9\u30a4\u30c3\u30c1)  </li> <li><code>assign_cidr_block</code>: \u5272\u308a\u5f53\u3066\u308bIP\u30a2\u30c9\u30ec\u30b9\u30d6\u30ed\u30c3\u30af(CIDR\u8868\u8a18)  </li> <li><code>assign_netmask_len</code>: \u5272\u308a\u5f53\u3066\u308b\u30b5\u30d6\u30cd\u30c3\u30c8\u30de\u30b9\u30af\u9577  </li> <li><code>default_route</code>: \u5272\u308a\u5f53\u3066\u308b\u30c7\u30d5\u30a9\u30eb\u30c8\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u306eIP\u30a2\u30c9\u30ec\u30b9  </li> </ul> <p>Info</p> <p><code>upstream</code>\u304c\u5171\u6709\u30bb\u30b0\u30e1\u30f3\u30c8(<code>shared</code>)\u306e\u5834\u5408\u3001IP\u30a2\u30c9\u30ec\u30b9\u3084\u30b5\u30d6\u30cd\u30c3\u30c8\u30de\u30b9\u30af\u9577\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u306f\u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u5074\u3067\u5272\u308a\u5f53\u3066\u3089\u308c\u308b\u305f\u3081\u6307\u5b9a\u3067\u304d\u307e\u305b\u3093\u3002</p> <p>\u8a2d\u5b9a\u4f8b: <pre><code># \u629c\u7c8b\nresources:\n  - type: ServerGroup\n\n    server_name_prefix: \"servers\"\n    zone: \"is1a\"\n\n    template: \n      network_interfaces:\n        - upstream: \"shared\"\n\n        - upstream:\n            names: [\"example\"]\n          assign_cidr_block: \"192.168.0.32/28\"\n          assign_netmask_len: 24\n</code></pre></p> <p>\u3053\u306e\u4f8b\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u6307\u5b9a\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002</p> <ul> <li>NIC\u306f2\u3064</li> <li>1\u756a\u76ee\u306eNIC\u306f\u5171\u6709\u30bb\u30b0\u30e1\u30f3\u30c8\u306b\u63a5\u7d9a<ul> <li>IP\u30a2\u30c9\u30ec\u30b9/\u30b5\u30d6\u30cd\u30c3\u30c8\u30de\u30b9\u30af\u9577/\u30c7\u30d5\u30a9\u30eb\u30c8\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u306f\u3055\u304f\u3089\u306e\u30af\u30e9\u30a6\u30c9\u5074\u304c\u5272\u308a\u5f53\u3066</li> </ul> </li> <li>2\u756a\u76ee\u306eNIC\u306f<code>examples</code>\u3068\u3044\u3046\u30b9\u30a4\u30c3\u30c1\u306b\u63a5\u7d9a<ul> <li>IP\u30a2\u30c9\u30ec\u30b9\u306f<code>192.168.0.32/28</code>\u306e\u7bc4\u56f2\u5185\u304b\u3089\u5272\u308a\u5f53\u3066</li> <li>\u30b5\u30d6\u30cd\u30c3\u30c8\u30de\u30b9\u30af\u9577\u306f<code>24</code></li> </ul> </li> </ul> <p>\u4f5c\u6210\u3055\u308c\u308b\u30b5\u30fc\u30d0\u306e\u30b5\u30fc\u30d0\u30b0\u30eb\u30fc\u30d7\u5185\u3067\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306b\u5fdc\u3058\u3066<code>assign_cidr_block</code>\u304b\u3089\u5bfe\u5fdc\u3059\u308bIP\u30a2\u30c9\u30ec\u30b9\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u307e\u3059\u3002 \u4e0a\u8a18\u306e\u4f8b\u3060\u3068\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304c<code>0</code>\u306e\u5834\u5408\u306f<code>192.168.0.33</code>\u3001<code>1</code>\u306e\u5834\u5408\u306f<code>192.168.0.34</code>\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u307e\u3059\u3002</p>"},{"location":"network/#_4","title":"\u5272\u308a\u5f53\u3066\u3089\u308c\u305f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u60c5\u5831\u306e\u30b5\u30fc\u30d0\u3078\u306e\u53cd\u6620","text":"<p>\u4e0a\u8a18\u3067\u5272\u308a\u5f53\u3066\u3089\u308c\u308b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u60c5\u5831\u306fAutoScaler\u4e0a\u3067\u306e\u8ad6\u7406\u7684\u306a\u5024\u3068\u306a\u3063\u3066\u304a\u308a\u3001\u6700\u7d42\u7684\u306b\u30b5\u30fc\u30d0\u306b\u53cd\u6620\u3055\u305b\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 1\u756a\u76ee\u306eNIC\u3001\u304b\u3064\u5229\u7528\u3059\u308b\u30a2\u30fc\u30ab\u30a4\u30d6\u304c\u30c7\u30a3\u30b9\u30af\u306e\u4fee\u6b63API\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u5834\u5408\u306fHandlers\u304c\u81ea\u52d5\u7684\u306b\u30b5\u30fc\u30d0\u306b\u53cd\u6620\u3055\u305b\u307e\u3059\u3002</p> <p>2\u756a\u76ee\u4ee5\u964d\u306eNIC\u3001\u307e\u305f\u306f\u30c7\u30a3\u30b9\u30af\u306e\u4fee\u6b63API\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u30b9\u30bf\u30fc\u30c8\u30a2\u30c3\u30d7\u30b9\u30af\u30ea\u30d7\u30c8\u3084cloud-init\u3092\u7528\u3044\u3066\u30b5\u30fc\u30d0\u306b\u53cd\u6620\u3055\u305b\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"network/#ip","title":"\u30b9\u30bf\u30fc\u30c8\u30a2\u30c3\u30d7\u30b9\u30af\u30ea\u30d7\u30c8\u3067IP\u30a2\u30c9\u30ec\u30b9\u306e\u8a2d\u5b9a\u3092\u884c\u3046\u4f8b","text":"<p>AutoScaler\u3067\u30b9\u30bf\u30fc\u30c8\u30a2\u30c3\u30d7\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u6307\u5b9a\u3059\u308b\u5834\u5408\u3001Go\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3092\u7528\u3044\u308b\u3053\u3068\u3067\u30b5\u30fc\u30d0\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u305f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u60c5\u5831\u3092\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u7d44\u307f\u8fbc\u307f\u53ef\u80fd\u3067\u3059\u3002</p> <p>eth1\u306e\u8a2d\u5b9a\u4f8b:</p> <pre><code>#!/bin/bash\n\n# eth1\u5411\u3051\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\ncat &lt;&lt;EOL &gt;&gt; /etc/netplan/99-eth1-netcfg.yaml\nnetwork:\n  ethernets:\n    eth1:\n      addresses:\n        # \u30d1\u30e9\u30e1\u30fc\u30bf\u4e2d\u306eNetworkInterfaces\u304b\u3089\u30a4\u30f3\u30c7\u30c3\u30af\u30b91\u306e\u8981\u7d20\u3092\u53d6\u308a\u51fa\u3057\u3001N.N.N.N/N\u5f62\u5f0f\u3067\u51fa\u529b\u3059\u308b\n        - {{ with index .NetworkInterfaces 1 }}{{ with .AssignedNetwork }}{{ .IpAddress }}/{{ .Netmask }}{{ end }}{{ end }}\n      dhcp4: 'no'\n      dhcp6: 'no'\nEOL\n\n# \u53cd\u6620\nnetplan apply\n</code></pre> <p>Go\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3067\u306f\u4ee5\u4e0b\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002 \u8a73\u7d30: github.com/sacloud/autoscaler - handler/handler.pb.go</p> <pre><code>type ServerGroupInstance struct {\n    Parent *Parent `protobuf:\"bytes,1,opt,name=parent,proto3\" json:\"parent,omitempty\"`\n    Id     string  `protobuf:\"bytes,11,opt,name=id,proto3\" json:\"id,omitempty\"` // \u65b0\u898f\u4f5c\u6210\u6307\u793a\u6642\u306f\u7a7a\n    Zone   string  `protobuf:\"bytes,12,opt,name=zone,proto3\" json:\"zone,omitempty\"`\n\n    // plan\n    Core          uint32 `protobuf:\"varint,13,opt,name=core,proto3\" json:\"core,omitempty\"`\n    Memory        uint32 `protobuf:\"varint,14,opt,name=memory,proto3\" json:\"memory,omitempty\"`\n    DedicatedCpu  bool   `protobuf:\"varint,15,opt,name=dedicated_cpu,json=dedicatedCpu,proto3\" json:\"dedicated_cpu,omitempty\"`\n    PrivateHostId string `protobuf:\"bytes,16,opt,name=private_host_id,json=privateHostId,proto3\" json:\"private_host_id,omitempty\"`\n\n    // disks\n    Disks []*ServerGroupInstance_Disk `protobuf:\"bytes,17,rep,name=disks,proto3\" json:\"disks,omitempty\"`\n\n    // \u30c7\u30a3\u30b9\u30af\u306e\u4fee\u6b63\u95a2\u9023\n    EditParameter *ServerGroupInstance_EditParameter `protobuf:\"bytes,18,opt,name=edit_parameter,json=editParameter,proto3\" json:\"edit_parameter,omitempty\"` // 1\u756a\u76ee\u306e\u30c7\u30a3\u30b9\u30af\u306b\u306e\u307f\u6709\u52b9\n    CloudConfig   string                             `protobuf:\"bytes,27,opt,name=cloud_config,json=cloudConfig,proto3\" json:\"cloud_config,omitempty\"`\n\n    // networks\n    NetworkInterfaces []*ServerGroupInstance_NIC `protobuf:\"bytes,19,rep,name=network_interfaces,json=networkInterfaces,proto3\" json:\"network_interfaces,omitempty\"`\n\n    // misc\n    CdRomId         string `protobuf:\"bytes,20,opt,name=cd_rom_id,json=cdRomId,proto3\" json:\"cd_rom_id,omitempty\"`\n    InterfaceDriver string `protobuf:\"bytes,21,opt,name=interface_driver,json=interfaceDriver,proto3\" json:\"interface_driver,omitempty\"`\n\n    // common\n    Name          string   `protobuf:\"bytes,22,opt,name=name,proto3\" json:\"name,omitempty\"`\n    Tags          []string `protobuf:\"bytes,23,rep,name=tags,proto3\" json:\"tags,omitempty\"`\n    Description   string   `protobuf:\"bytes,24,opt,name=description,proto3\" json:\"description,omitempty\"`\n    IconId        string   `protobuf:\"bytes,25,opt,name=icon_id,json=iconId,proto3\" json:\"icon_id,omitempty\"`\n    ShutdownForce bool     `protobuf:\"varint,26,opt,name=shutdown_force,json=shutdownForce,proto3\" json:\"shutdown_force,omitempty\"`\n}\n</code></pre> <p>\u30b9\u30bf\u30fc\u30c8\u30a2\u30c3\u30d7\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u7528\u3044\u308b\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u4f8b\u306fExamples: LB + \u30b5\u30fc\u30d0\u306e\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"examples/horizontal-scale-clone-server-and-elb/","title":"Examples: ELB + \u30b5\u30fc\u30d0\u306e\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb(\u30af\u30ed\u30fc\u30f3)","text":""},{"location":"examples/horizontal-scale-clone-server-and-elb/#_1","title":"\u6982\u8981","text":"<p>ELB\u914d\u4e0b\u306e\u30b5\u30fc\u30d0\u306e\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb(\u53f0\u6570\u5909\u66f4)\u3092\u884c\u3044\u307e\u3059\u3002 \u6c34\u5e73\u30b9\u30b1\u30fc\u30eb\u5bfe\u8c61\u306e\u30b5\u30fc\u30d0\u306f\u6307\u5b9a\u306e\u30b5\u30fc\u30d0\u3092\u30af\u30ed\u30fc\u30f3(\u30c7\u30a3\u30b9\u30af\u306e\u30af\u30ed\u30fc\u30f3)\u3068\u3057\u3066\u4f5c\u6210\u3057\u307e\u3059\u3002 ELB\u914d\u4e0b\u306b\u6307\u5b9a\u3057\u305f\u30b5\u30fc\u30d0\u30b0\u30eb\u30fc\u30d7\u306e\u53f0\u6570\u306e\u5897\u6e1b\u306b\u5408\u308f\u305bELB\u306e\u5b9f\u30b5\u30fc\u30d0\u3068\u3057\u3066\u767b\u9332/\u524a\u9664\u3055\u308c\u307e\u3059\u3002</p>"},{"location":"examples/horizontal-scale-clone-server-and-elb/#_2","title":"\u69cb\u6210\u4f8b","text":"<p>\u4ee5\u4e0b\u306e\u6761\u4ef6\u3067\u30b5\u30fc\u30d0\u3092\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb\u3055\u305b\u308b\u4f8b\u3067\u3059\u3002</p> <ul> <li>\u5bfe\u8c61\u30a8\u30f3\u30cf\u30f3\u30b9\u30c9\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5:<ul> <li>example</li> </ul> </li> <li>\u5bfe\u8c61\u30b5\u30fc\u30d0\u30b0\u30eb\u30fc\u30d7:<ul> <li>is1a\u30be\u30fc\u30f3\u306e<code>servers</code>\u30b0\u30eb\u30fc\u30d7</li> <li>2\u30b3\u30a2/4GB\u30e1\u30e2\u30ea</li> <li>\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u5074\u306eNIC\u3068\u3057\u3066\u5171\u6709\u30bb\u30b0\u30e1\u30f3\u30c8(100Mbps)\u3092\u5229\u7528</li> <li>eth0\u306e80\u756a\u30dd\u30fc\u30c8\u3092ELB\u306e\u5b9f\u30b5\u30fc\u30d0\u306e\u30a2\u30c9\u30ec\u30b9\u3068\u3057\u3066\u767b\u9332</li> <li>\u30c7\u30a3\u30b9\u30af\u30bd\u30fc\u30b9\u3068\u3057\u3066\u30af\u30ed\u30fc\u30f3\u5143\u306e\u30b5\u30fc\u30d0\u306e\u30c7\u30a3\u30b9\u30af\u3092\u6307\u5b9a</li> </ul> </li> </ul> <p>\u30b5\u30fc\u30d0\u306e\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u306f\u30af\u30ed\u30fc\u30f3\u5143\u306e\u30b5\u30fc\u30d0\u306b\u5bfe\u3057\u3066\u3042\u3089\u304b\u3058\u3081\u884c\u3063\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <pre><code>resources:\n  - type: ServerGroup\n    name: \"servers\"\n\n    server_name_prefix: \"servers\"\n    zone: \"is1a\"\n\n    # \u89aa\u30ea\u30bd\u30fc\u30b9\u306e\u5b9a\u7fa9\n    parent:\n      type: ELB\n      selector: \"example\"\n\n    min_size: 5   # \u6700\u5c0f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u6570\n    max_size: 20  # \u6700\u5927\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u6570\n\n    template: # \u5404\u30b5\u30fc\u30d0\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n      plan:\n        core: 2\n        memory: 4\n\n      # NICs\n      network_interfaces:\n        - upstream: \"shared\"\n          expose:\n            ports: [ 80 ] # \u3053\u306eNIC\u3067\u4e0a\u6d41\u30ea\u30bd\u30fc\u30b9\u306b\u516c\u958b\u3059\u308b\u30dd\u30fc\u30c8\u756a\u53f7\n\n      # \u30c7\u30a3\u30b9\u30af\n      disks:\n        - source_disk: \"clone-source-disk\" #\u30af\u30ed\u30fc\u30f3\u5143\u30b5\u30fc\u30d0\u306e\u30c7\u30a3\u30b9\u30af\u306e\u540d\u524d\n\n      # 1\u756a\u76ee\u306e\u30c7\u30a3\u30b9\u30af\u306e\u5bfe\u3059\u308b\u30d1\u30e9\u30e1\u30fc\u30bf(\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u30a2\u30fc\u30ab\u30a4\u30d6\u306e\u5834\u5408\u306e\u307f\u6307\u5b9a\u53ef\u80fd)\n      edit_parameter:\n        disabled: false # \u30c7\u30a3\u30b9\u30af\u306e\u4fee\u6b63\u3092\u884c\u308f\u306a\u3044\u5834\u5408\u306ftrue\n        password: \"your-password\"\n        disable_pw_auth: true\n        enable_dhcp: false\n        change_partition_uuid: true\n\n        # SSH\u516c\u958b\u9375\u306e\u6307\u5b9a\n        ssh_keys:\n          # \u30d5\u30a1\u30a4\u30eb\u30d1\u30b9 or \u6587\u5b57\u5217\u3067\u6307\u5b9a\n          - \"~/.ssh/id_rsa.pub\"\n</code></pre> <p>Info</p> <p>\u30ea\u30bd\u30fc\u30b9\u5b9a\u7fa9\u304c1\u3064\u3060\u3051\u306a\u305f\u3081\u3001Inputs\u304b\u3089\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u6642\u306b<code>resource-name</code>\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u7701\u7565\u53ef\u80fd\u3067\u3059\u3002</p> <pre><code>\u4f8b:  \nWebhook\u7cfb\u306e\u30ea\u30af\u30a8\u30b9\u30c8URL\u4f8b: `http://&lt;your-host&gt;/up`  \nDirect Inputs\u306e\u5b9f\u884c\u4f8b: `autoscaler inputs direct up`\n</code></pre>"},{"location":"examples/horizontal-scale-server-and-elb/","title":"Examples: ELB + \u30b5\u30fc\u30d0\u306e\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb","text":""},{"location":"examples/horizontal-scale-server-and-elb/#_1","title":"\u6982\u8981","text":"<p>ELB\u914d\u4e0b\u306e\u30b5\u30fc\u30d0\u306e\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb(\u53f0\u6570\u5909\u66f4)\u3092\u884c\u3044\u307e\u3059\u3002 ELB\u914d\u4e0b\u306b\u6307\u5b9a\u3057\u305f\u30b5\u30fc\u30d0\u30b0\u30eb\u30fc\u30d7\u306e\u53f0\u6570\u306e\u5897\u6e1b\u306b\u5408\u308f\u305bELB\u306e\u5b9f\u30b5\u30fc\u30d0\u3068\u3057\u3066\u767b\u9332/\u524a\u9664\u3055\u308c\u307e\u3059\u3002</p> <p>Warning</p> <p>ELB+\u30b5\u30fc\u30d0\u306e\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb\u306f\u7121\u505c\u6b62/\u30b5\u30fc\u30d3\u30b9\u4e2d\u65ad\u306a\u3057\u3067\u884c\u3048\u307e\u3059\u304c\u3001\u5b9f\u30b5\u30fc\u30d0\u304c1\u53f0\u4ee5\u4e0a\u5fc5\u8981\u3067\u3059\u3002  </p>"},{"location":"examples/horizontal-scale-server-and-elb/#_2","title":"\u69cb\u6210\u4f8b","text":"<p>\u4ee5\u4e0b\u306e\u6761\u4ef6\u3067\u30b5\u30fc\u30d0\u3092\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb\u3055\u305b\u308b\u4f8b\u3067\u3059\u3002</p> <ul> <li>\u5bfe\u8c61\u30a8\u30f3\u30cf\u30f3\u30b9\u30c9\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5:<ul> <li>example</li> </ul> </li> <li>\u5bfe\u8c61\u30b5\u30fc\u30d0\u30b0\u30eb\u30fc\u30d7:<ul> <li>is1a\u30be\u30fc\u30f3\u306e<code>servers</code>\u30b0\u30eb\u30fc\u30d7</li> <li>2\u30b3\u30a2/4GB\u30e1\u30e2\u30ea</li> <li>\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u5074\u306eNIC\u3068\u3057\u3066\u5171\u6709\u30bb\u30b0\u30e1\u30f3\u30c8(100Mbps)\u3092\u5229\u7528</li> <li>eth0\u306e80\u756a\u30dd\u30fc\u30c8\u3092ELB\u306e\u5b9f\u30b5\u30fc\u30d0\u306e\u30a2\u30c9\u30ec\u30b9\u3068\u3057\u3066\u767b\u9332</li> </ul> </li> </ul> <pre><code>resources:\n  - type: ServerGroup\n    name: \"servers\"\n\n    server_name_prefix: \"servers\"\n    zone: \"is1a\"\n\n    parent:\n      type: ELB\n      selector: \"example\"\n\n    min_size: 5   # \u6700\u5c0f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u6570\n    max_size: 20  # \u6700\u5927\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u6570\n\n    template: # \u5404\u30b5\u30fc\u30d0\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n      plan:\n        core: 2\n        memory: 4\n\n      # NICs\n      network_interfaces:\n        - upstream: \"shared\"\n          expose:\n            ports: [ 80 ] # \u3053\u306eNIC\u3067\u4e0a\u6d41\u30ea\u30bd\u30fc\u30b9\u306b\u516c\u958b\u3059\u308b\u30dd\u30fc\u30c8\u756a\u53f7\n\n      # \u30c7\u30a3\u30b9\u30af\n      disks:\n        - os_type: \"ubuntu2004\"\n          plan: \"ssd\"\n          connection: \"virtio\"\n          size: 40\n\n      # 1\u756a\u76ee\u306e\u30c7\u30a3\u30b9\u30af\u306e\u5bfe\u3059\u308b\u30d1\u30e9\u30e1\u30fc\u30bf(\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u30a2\u30fc\u30ab\u30a4\u30d6\u306e\u5834\u5408\u306e\u307f\u6307\u5b9a\u53ef\u80fd)\n      edit_parameter:\n        disabled: false # \u30c7\u30a3\u30b9\u30af\u306e\u4fee\u6b63\u3092\u884c\u308f\u306a\u3044\u5834\u5408\u306ftrue\n        password: \"your-password\"\n        disable_pw_auth: true\n        enable_dhcp: false\n        change_partition_uuid: true\n\n        # SSH\u516c\u958b\u9375\u306e\u6307\u5b9a\n        ssh_keys:\n          # \u30d5\u30a1\u30a4\u30eb\u30d1\u30b9 or \u6587\u5b57\u5217\u3067\u6307\u5b9a\n          - \"~/.ssh/id_rsa.pub\"\n\n        # \u30b9\u30bf\u30fc\u30c8\u30a2\u30c3\u30d7\u30b9\u30af\u30ea\u30d7\u30c8\n        # \u30b5\u30fc\u30d0\u306eIP\u30a2\u30c9\u30ec\u30b9(\u5171\u6709\u30bb\u30b0\u30e1\u30f3\u30c8\u306e\u5834\u5408\u306e\u81ea\u52d5\u5272\u308a\u5f53\u3066)\u306a\u3069\u3092{{ .IPAddress}}\u306e\u3088\u3046\u306aGo\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3067\u5229\u7528\u53ef\u80fd\n        startup_scripts:\n          # \u30d5\u30a1\u30a4\u30eb\u30d1\u30b9 or \u6587\u5b57\u5217\u3067\u6307\u5b9a\n          - |\n            #!/bin/bash\n\n            # @sacloud-once\n            apt update; apt install -y nginx\n</code></pre> <p>Info</p> <p>\u30ea\u30bd\u30fc\u30b9\u5b9a\u7fa9\u304c1\u3064\u3060\u3051\u306a\u305f\u3081\u3001Inputs\u304b\u3089\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u6642\u306b<code>resource-name</code>\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u7701\u7565\u53ef\u80fd\u3067\u3059\u3002</p> <pre><code>\u4f8b:  \nWebhook\u7cfb\u306e\u30ea\u30af\u30a8\u30b9\u30c8URL\u4f8b: `http://&lt;your-host&gt;/up`  \nDirect Inputs\u306e\u5b9f\u884c\u4f8b: `autoscaler inputs direct up`\n</code></pre>"},{"location":"examples/horizontal-scale-server-and-elb_cloud-init/","title":"Examples: ELB + \u30b5\u30fc\u30d0\u306e\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb(cloud-init)","text":""},{"location":"examples/horizontal-scale-server-and-elb_cloud-init/#_1","title":"\u6982\u8981","text":"<p>ELB\u914d\u4e0b\u306e\u30b5\u30fc\u30d0\u306e\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb(\u53f0\u6570\u5909\u66f4)\u3092\u884c\u3044\u307e\u3059\u3002 ELB\u914d\u4e0b\u306b\u6307\u5b9a\u3057\u305f\u30b5\u30fc\u30d0\u30b0\u30eb\u30fc\u30d7\u306e\u53f0\u6570\u306e\u5897\u6e1b\u306b\u5408\u308f\u305bELB\u306e\u5b9f\u30b5\u30fc\u30d0\u3068\u3057\u3066\u767b\u9332/\u524a\u9664\u3055\u308c\u307e\u3059\u3002</p> <p>Warning</p> <p>ELB+\u30b5\u30fc\u30d0\u306e\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb\u306f\u7121\u505c\u6b62/\u30b5\u30fc\u30d3\u30b9\u4e2d\u65ad\u306a\u3057\u3067\u884c\u3048\u307e\u3059\u304c\u3001\u5b9f\u30b5\u30fc\u30d0\u304c1\u53f0\u4ee5\u4e0a\u5fc5\u8981\u3067\u3059\u3002  </p>"},{"location":"examples/horizontal-scale-server-and-elb_cloud-init/#_2","title":"\u69cb\u6210\u4f8b","text":"<p>\u4ee5\u4e0b\u306e\u6761\u4ef6\u3067\u30b5\u30fc\u30d0\u3092\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb\u3055\u305b\u308b\u4f8b\u3067\u3059\u3002</p> <ul> <li>\u5bfe\u8c61\u30a8\u30f3\u30cf\u30f3\u30b9\u30c9\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5:<ul> <li>example</li> </ul> </li> <li>\u5bfe\u8c61\u30b5\u30fc\u30d0\u30b0\u30eb\u30fc\u30d7:<ul> <li>is1a\u30be\u30fc\u30f3\u306e<code>servers</code>\u30b0\u30eb\u30fc\u30d7</li> <li>2\u30b3\u30a2/4GB\u30e1\u30e2\u30ea</li> <li>\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u5074\u306eNIC\u3068\u3057\u3066\u5171\u6709\u30bb\u30b0\u30e1\u30f3\u30c8(100Mbps)\u3092\u5229\u7528</li> <li>eth0\u306e80\u756a\u30dd\u30fc\u30c8\u3092ELB\u306e\u5b9f\u30b5\u30fc\u30d0\u306e\u30a2\u30c9\u30ec\u30b9\u3068\u3057\u3066\u767b\u9332</li> <li>\u30b5\u30fc\u30d0\u306e\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u306b\u306fcloud-init\u3092\u5229\u7528</li> </ul> </li> </ul> <pre><code>resources:\n  - type: ServerGroup\n    name: \"servers\"\n\n    server_name_prefix: \"servers\"\n    zone: \"is1a\"\n\n    parent:\n      type: ELB\n      selector: \"example\"\n\n    min_size: 5   # \u6700\u5c0f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u6570\n    max_size: 20  # \u6700\u5927\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u6570\n\n    template: # \u5404\u30b5\u30fc\u30d0\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n      plan:\n        core: 2\n        memory: 4\n\n      # NICs\n      network_interfaces:\n        - upstream: \"shared\"\n          expose:\n            ports: [ 80 ] # \u3053\u306eNIC\u3067\u4e0a\u6d41\u30ea\u30bd\u30fc\u30b9\u306b\u516c\u958b\u3059\u308b\u30dd\u30fc\u30c8\u756a\u53f7\n\n      # \u30c7\u30a3\u30b9\u30af\n      disks:\n        - source_archive:\n            names: [\"Ubuntu\", \"20.04\", \"cloudimg\"]\n          plan: \"ssd\"\n          connection: \"virtio\"\n          size: 20\n\n      cloud_config: |\n        #cloud-config\n        chpasswd:\n          expire: false\n        hostname: example\n        locale: ja_JP.utf8\n        package_update: true\n        packages:\n          - nginx\n        ssh_authorized_keys:\n          - \"ssh-rsa ...\" #\u516c\u958b\u9375\n        ssh_pwauth: false\n        timezone: \"Asia/Tokyo\"\n</code></pre> <p>Info</p> <p>\u30ea\u30bd\u30fc\u30b9\u5b9a\u7fa9\u304c1\u3064\u3060\u3051\u306a\u305f\u3081\u3001Inputs\u304b\u3089\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u6642\u306b<code>resource-name</code>\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u7701\u7565\u53ef\u80fd\u3067\u3059\u3002</p> <pre><code>\u4f8b:  \nWebhook\u7cfb\u306e\u30ea\u30af\u30a8\u30b9\u30c8URL\u4f8b: `http://&lt;your-host&gt;/up`  \nDirect Inputs\u306e\u5b9f\u884c\u4f8b: `autoscaler inputs direct up`\n</code></pre>"},{"location":"examples/horizontal-scale-server-and-lb/","title":"Examples: LB + \u30b5\u30fc\u30d0\u306e\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb","text":""},{"location":"examples/horizontal-scale-server-and-lb/#_1","title":"\u6982\u8981","text":"<p>LB\u914d\u4e0b\u306e\u30b5\u30fc\u30d0\u306e\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb(\u53f0\u6570\u5909\u66f4)\u3092\u884c\u3044\u307e\u3059\u3002 LB\u914d\u4e0b\u306b\u6307\u5b9a\u3057\u305f\u30b5\u30fc\u30d0\u30b0\u30eb\u30fc\u30d7\u306e\u53f0\u6570\u306e\u5897\u6e1b\u306b\u5408\u308f\u305bLB\u306e\u5b9f\u30b5\u30fc\u30d0\u3068\u3057\u3066\u767b\u9332/\u524a\u9664\u3055\u308c\u307e\u3059\u3002</p> <p>Warning</p> <p>LB+\u30b5\u30fc\u30d0\u306e\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb\u306f\u7121\u505c\u6b62/\u30b5\u30fc\u30d3\u30b9\u4e2d\u65ad\u306a\u3057\u3067\u884c\u3048\u307e\u3059\u304c\u3001\u5b9f\u30b5\u30fc\u30d0\u304c1\u53f0\u4ee5\u4e0a\u5fc5\u8981\u3067\u3059\u3002  </p>"},{"location":"examples/horizontal-scale-server-and-lb/#_2","title":"\u69cb\u6210\u4f8b","text":"<p>\u4ee5\u4e0b\u306e\u6761\u4ef6\u3067\u30b5\u30fc\u30d0\u3092\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb\u3055\u305b\u308b\u4f8b\u3067\u3059\u3002</p> <ul> <li>\u5bfe\u8c61\u30a8\u30f3\u30cf\u30f3\u30b9\u30c9\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5:<ul> <li>example</li> </ul> </li> <li>\u5bfe\u8c61\u30b5\u30fc\u30d0\u30b0\u30eb\u30fc\u30d7:<ul> <li>is1a\u30be\u30fc\u30f3\u306e<code>servers</code>\u30b0\u30eb\u30fc\u30d7</li> <li>2\u30b3\u30a2/4GB\u30e1\u30e2\u30ea</li> <li>eth0\u306f\u5171\u6709\u30bb\u30b0\u30e1\u30f3\u30c8(100Mbps)\u306b\u63a5\u7d9a</li> <li>eth1\u3092\u30b9\u30a4\u30c3\u30c1(\u540d\u524d:<code>example</code>)\u306b\u63a5\u7d9a  </li> <li>eth1\u306e80\u756a\u30dd\u30fc\u30c8\u3092LB\u306eVIP<code>192.168.0.1</code>\u914d\u4e0b\u306e\u5b9f\u30b5\u30fc\u30d0\u306e\u30a2\u30c9\u30ec\u30b9\u3068\u3057\u3066\u767b\u9332</li> <li>eth1\u306eIP\u30a2\u30c9\u30ec\u30b9\u3092<code>192.168.0.33</code>\u304b\u3089\u9806\u6b21\u5272\u308a\u5f53\u3066</li> </ul> </li> </ul> <pre><code>resources:\n  - type: ServerGroup\n    name: \"servers\"\n\n    server_name_prefix: \"servers\"\n    zone: \"is1a\"\n\n    parent:\n      type: LoadBalancer\n      selector: \"example\"\n\n    min_size: 5   # \u6700\u5c0f\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u6570\n    max_size: 20  # \u6700\u5927\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u6570\n\n    template: # \u5404\u30b5\u30fc\u30d0\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\n      plan:\n        core: 2\n        memory: 4\n\n      # NICs\n      network_interfaces:\n        # eth0\n        - upstream: \"shared\"\n\n        # eth1    \n        - upstream:\n            names: [\"example\"]\n          assign_cidr_block: \"192.168.0.32/27\" #.33\u304b\u3089\u9806\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u308b\n          assign_netmask_len: 24\n          expose:\n            ports: [ 80 ] # \u3053\u306eNIC\u3067\u4e0a\u6d41\u30ea\u30bd\u30fc\u30b9\u306b\u516c\u958b\u3059\u308b\u30dd\u30fc\u30c8\u756a\u53f7\n\n            # LB\u5411\u3051\n            vips: [ \"192.168.0.1\" ] \n            health_check:\n              protocol: http\n              path: \"/\"\n              status_code: 200\n\n      # \u30c7\u30a3\u30b9\u30af\n      disks:\n        - os_type: \"ubuntu2004\"\n          plan: \"ssd\"\n          connection: \"virtio\"\n          size: 40\n\n      # 1\u756a\u76ee\u306e\u30c7\u30a3\u30b9\u30af\u306e\u5bfe\u3059\u308b\u30d1\u30e9\u30e1\u30fc\u30bf(\u5bfe\u5fdc\u3057\u3066\u3044\u308b\u30a2\u30fc\u30ab\u30a4\u30d6\u306e\u5834\u5408\u306e\u307f\u6307\u5b9a\u53ef\u80fd)\n      edit_parameter:\n        disabled: false # \u30c7\u30a3\u30b9\u30af\u306e\u4fee\u6b63\u3092\u884c\u308f\u306a\u3044\u5834\u5408\u306ftrue\n        password: \"your-password\"\n        disable_pw_auth: true\n        enable_dhcp: false\n        change_partition_uuid: true\n\n        # SSH\u516c\u958b\u9375\u306e\u6307\u5b9a\n        ssh_keys:\n          # \u30d5\u30a1\u30a4\u30eb\u30d1\u30b9 or \u6587\u5b57\u5217\u3067\u6307\u5b9a\n          - \"~/.ssh/id_rsa.pub\"\n\n        # \u30b9\u30bf\u30fc\u30c8\u30a2\u30c3\u30d7\u30b9\u30af\u30ea\u30d7\u30c8\n        # \u30b5\u30fc\u30d0\u306eIP\u30a2\u30c9\u30ec\u30b9(\u5171\u6709\u30bb\u30b0\u30e1\u30f3\u30c8\u306e\u5834\u5408\u306e\u81ea\u52d5\u5272\u308a\u5f53\u3066)\u306a\u3069\u3092{{ .IPAddress}}\u306e\u3088\u3046\u306aGo\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3067\u5229\u7528\u53ef\u80fd\n        startup_scripts:\n          - \"/my/path/provisioning.sh\"\n</code></pre> <p>\u30b9\u30bf\u30fc\u30c8\u30a2\u30c3\u30d7\u30b9\u30af\u30ea\u30d7\u30c8\u3068\u3057\u3066\u4ee5\u4e0b\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002(<code>/my/path/provisioning.sh</code>) <pre><code>#!/bin/bash\n\n# @sacloud-once\n\n# eth1\u3078\u306eIP\u30a2\u30c9\u30ec\u30b9\u8a2d\u5b9a\ncat &lt;&lt;EOL &gt;&gt; /etc/netplan/99-eth1-netcfg.yaml\nnetwork:\n  ethernets:\n    eth1:\n      addresses:\n        - {{ with index .NetworkInterfaces 1 }}{{ with .AssignedNetwork }}{{ .IpAddress }}/{{ .Netmask }}{{ end }}{{ end }}\n      dhcp4: 'no'\n      dhcp6: 'no'\nEOL\n\n# \u30eb\u30fc\u30d7\u30d0\u30c3\u30af\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3078\u306eVIP\u30a2\u30c9\u30ec\u30b9\u8a2d\u5b9a\ncat &lt;&lt;EOL &gt;&gt; /etc/netplan/99-lo-netcfg.yaml\nnetwork:\n  ethernets:\n    lo:\n      addresses:\n        - 192.168.0.1/32\nEOL\n\n# \u30d0\u30fc\u30c1\u30e3\u30eb\u30b5\u30fc\u30d0\u30fc\u5b9b\u306eARP\u306b\u5fdc\u7b54\u3057\u306a\u3044\u3088\u3046\u306b\u3059\u308b\ncat &lt;&lt;EOL &gt;&gt; /etc/sysctl.conf\nnet.ipv4.conf.all.arp_ignore = 1\nnet.ipv4.conf.all.arp_announce = 2\nEOL\n\n# \u53cd\u6620\nsysctl -p\nnetplan apply\n\n# NGINX\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\napt update; apt install -y nginx\n</code></pre></p> <p>Info</p> <p>\u30ea\u30bd\u30fc\u30b9\u5b9a\u7fa9\u304c1\u3064\u3060\u3051\u306a\u305f\u3081\u3001Inputs\u304b\u3089\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u6642\u306b<code>resource-name</code>\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u7701\u7565\u53ef\u80fd\u3067\u3059\u3002</p> <pre><code>\u4f8b:  \nWebhook\u7cfb\u306e\u30ea\u30af\u30a8\u30b9\u30c8URL\u4f8b: `http://&lt;your-host&gt;/up`  \nDirect Inputs\u306e\u5b9f\u884c\u4f8b: `autoscaler inputs direct up`\n</code></pre>"},{"location":"examples/vertical-scale-elb/","title":"Examples: ELB\u306e\u5782\u76f4\u30b9\u30b1\u30fc\u30eb","text":""},{"location":"examples/vertical-scale-elb/#_1","title":"\u6982\u8981","text":"<p>ELB\u306e\u5782\u76f4\u30b9\u30b1\u30fc\u30eb(CPS\u5909\u66f4)\u3092\u884c\u3044\u307e\u3059\u3002 \u3042\u3089\u304b\u3058\u3081\u5b9a\u7fa9\u3057\u305f\u7bc4\u56f2\u306e\u4e2d\u3067CPS\u3092\u4e0a\u4e0b\u3055\u305b\u307e\u3059\u3002  </p> <p>Tips</p> <p>ELB\u306e\u30aa\u30fc\u30c8\u30b9\u30b1\u30fc\u30eb\u306f\u7121\u505c\u6b62/\u30b5\u30fc\u30d3\u30b9\u4e2d\u65ad\u306a\u3057\u3067\u884c\u3048\u307e\u3059\u3002</p>"},{"location":"examples/vertical-scale-elb/#_2","title":"\u69cb\u6210\u4f8b","text":"<p>\u4ee5\u4e0b\u306e\u6761\u4ef6\u3067\u5782\u76f4\u30b9\u30b1\u30fc\u30eb\u3055\u305b\u308b\u4f8b\u3067\u3059\u3002</p> <ul> <li>\u5bfe\u8c61ELB:<ul> <li>example1</li> </ul> </li> <li>\u30d7\u30e9\u30f3\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u7bc4\u56f2\u3068\u3059\u308b</li> </ul> <pre><code>resources:\n  - type: ELB\n    name: \"elb\"\n    selector:\n      names: [\"example1\"]\n\n#\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30d7\u30e9\u30f3 \n#    plans:\n#      - cps: 100\n#      - cps: 500\n#      - cps: 1000\n#      - cps: 5000\n#      - cps: 10000\n#      - cps: 50000\n#      - cps: 100000\n#      - cps: 400000\n</code></pre> <p>Info</p> <p>\u30ea\u30bd\u30fc\u30b9\u5b9a\u7fa9\u304c1\u3064\u3060\u3051\u306a\u305f\u3081\u3001Inputs\u304b\u3089\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u6642\u306b<code>resource-name</code>\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u7701\u7565\u53ef\u80fd\u3067\u3059\u3002</p> <pre><code>\u4f8b:  \nWebhook\u7cfb\u306e\u30ea\u30af\u30a8\u30b9\u30c8URL\u4f8b: `http://&lt;your-host&gt;/up`  \nDirect Inputs\u306e\u5b9f\u884c\u4f8b: `autoscaler inputs direct up`\n</code></pre>"},{"location":"examples/vertical-scale-router/","title":"Examples: \u30eb\u30fc\u30bf\u306e\u5782\u76f4\u30b9\u30b1\u30fc\u30eb","text":""},{"location":"examples/vertical-scale-router/#_1","title":"\u6982\u8981","text":"<p>\u30eb\u30fc\u30bf\u306e\u5782\u76f4\u30b9\u30b1\u30fc\u30eb(\u5e2f\u57df\u5e45\u5909\u66f4)\u3092\u884c\u3044\u307e\u3059\u3002 \u3042\u3089\u304b\u3058\u3081\u5b9a\u7fa9\u3057\u305f\u7bc4\u56f2\u306e\u4e2d\u3067\u5e2f\u57df\u5e45\u3092\u4e0a\u4e0b\u3055\u305b\u307e\u3059\u3002  </p> <p>Tips</p> <p>\u30eb\u30fc\u30bf\u306e\u30aa\u30fc\u30c8\u30b9\u30b1\u30fc\u30eb\u306f\u7121\u505c\u6b62/\u30b5\u30fc\u30d3\u30b9\u4e2d\u65ad\u306a\u3057\u3067\u884c\u3048\u307e\u3059\u3002</p>"},{"location":"examples/vertical-scale-router/#_2","title":"\u69cb\u6210\u4f8b","text":"<p>\u4ee5\u4e0b\u306e\u6761\u4ef6\u3067\u5782\u76f4\u30b9\u30b1\u30fc\u30eb\u3055\u305b\u308b\u4f8b\u3067\u3059\u3002</p> <ul> <li>\u5bfe\u8c61\u30eb\u30fc\u30bf:<ul> <li>is1a\u30be\u30fc\u30f3\u306eexample1</li> </ul> </li> <li>\u30d7\u30e9\u30f3\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u7bc4\u56f2\u3068\u3059\u308b</li> </ul> <pre><code>resources:\n  - type: Router\n    name: \"router\"\n    selector:\n      names: [\"example1\"]\n      zones: [\"is1a\"]\n\n# \u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30d7\u30e9\u30f3 \n#    plans:\n#      - band_width: 100\n#      - band_width: 250\n#      - band_width: 500\n#      - band_width: 1000\n#      - band_width: 1500\n#      - band_width: 2000\n#      - band_width: 2500\n#      - band_width: 3000\n#      - band_width: 3500\n#      - band_width: 4000\n#      - band_width: 4500\n#      - band_width: 5000\n</code></pre> <p>Tips</p> <p>\u6771\u4eac\u7b2c2\u30be\u30fc\u30f3\u3067\u306f5,500Mbps\u301c10,000Mbps\u30d7\u30e9\u30f3\u3082\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002 \u5229\u7528\u3057\u305f\u3044\u5834\u5408\u306f<code>plans</code>\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>Info</p> <p>\u30ea\u30bd\u30fc\u30b9\u5b9a\u7fa9\u304c1\u3064\u3060\u3051\u306a\u305f\u3081\u3001Inputs\u304b\u3089\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u6642\u306b<code>resource-name</code>\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u7701\u7565\u53ef\u80fd\u3067\u3059\u3002</p> <pre><code>\u4f8b:  \nWebhook\u7cfb\u306e\u30ea\u30af\u30a8\u30b9\u30c8URL\u4f8b: `http://&lt;your-host&gt;/up`  \nDirect Inputs\u306e\u5b9f\u884c\u4f8b: `autoscaler inputs direct up`\n</code></pre>"},{"location":"examples/vertical-scale-server-and-elb/","title":"Examples: ELB + \u30b5\u30fc\u30d0\u306e\u5782\u76f4\u30b9\u30b1\u30fc\u30eb","text":""},{"location":"examples/vertical-scale-server-and-elb/#_1","title":"\u6982\u8981","text":"<p>ELB\u914d\u4e0b\u306e\u30b5\u30fc\u30d0\u306e\u5782\u76f4\u30b9\u30b1\u30fc\u30eb(\u30d7\u30e9\u30f3\u5909\u66f4)\u3092\u884c\u3044\u307e\u3059\u3002 Inputs\u304b\u3089\u30d1\u30e9\u30e1\u30fc\u30bf<code>resource-name</code>\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067ELB\u307e\u305f\u306f\u30b5\u30fc\u30d0\u306e\u30d7\u30e9\u30f3\u5909\u66f4\u304c\u53ef\u80fd\u3067\u3059\u3002  </p> <p>ELB\u914d\u4e0b\u306b\u6307\u5b9a\u3057\u305f\u30b5\u30fc\u30d0\u306eIP\u30a2\u30c9\u30ec\u30b9\u304cELB\u306b\u5b9f\u30b5\u30fc\u30d0\u3068\u3057\u3066\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u51e6\u7406\u3055\u308c\u307e\u3059\u3002  </p> <ul> <li>&lt;\u5404\u30b5\u30fc\u30d0\u3092\u9806\u6b21\u51e6\u7406&gt;<ul> <li>ELB\u304b\u3089\u30c7\u30bf\u30c3\u30c1</li> <li>\u30b5\u30fc\u30d0\u306e\u30d7\u30e9\u30f3\u5909\u66f4(\u518d\u8d77\u52d5\u3092\u4f34\u3044\u307e\u3059)   </li> <li>ELB\u3078\u30a2\u30bf\u30c3\u30c1</li> </ul> </li> </ul> <p>Warning</p> <p>ELB+\u30b5\u30fc\u30d0\u306e\u30aa\u30fc\u30c8\u30b9\u30b1\u30fc\u30eb\u306f\u7121\u505c\u6b62/\u30b5\u30fc\u30d3\u30b9\u4e2d\u65ad\u306a\u3057\u3067\u884c\u3048\u307e\u3059\u304c\u3001\u305d\u306e\u305f\u3081\u306b\u306f\u5b9f\u30b5\u30fc\u30d0\u304c2\u53f0\u4ee5\u4e0a\u5fc5\u8981\u3067\u3059\u3002 \u5b9f\u30b5\u30fc\u30d0\u304c2\u53f0\u672a\u6e80\u306e\u5834\u5408\u306f\u30b5\u30fc\u30d0\u304c\u518d\u8d77\u52d5\u3059\u308b\u9593\u306b\u30b5\u30fc\u30d3\u30b9\u4e2d\u65ad\u304c\u767a\u751f\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002 \u307e\u305f\u3001\u30b5\u30fc\u30d0\u306e\u5782\u76f4\u30b9\u30b1\u30fc\u30eb\u5f8c\u306b\u6e96\u5099\u304c\u6574\u308f\u306a\u3044\u307e\u307e\u30b5\u30fc\u30d3\u30b9\u30a4\u30f3\u3055\u305b\u306a\u3044\u3088\u3046\u306b<code>setup_grace_period</code>\u3092\u9069\u5207\u306b\u6307\u5b9a\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059(\u30c7\u30d5\u30a9\u30eb\u30c8\u306f60\u79d2\u3067\u3059)\u3002</p> <p>Info</p> <p>ELB\u304b\u3089\u306e\u30c7\u30bf\u30c3\u30c1/\u30a2\u30bf\u30c3\u30c1\u306fELB\u306e\u5b9f\u30b5\u30fc\u30d0\u3054\u3068\u306b<code>Enabled</code>\u3068\u3044\u3046\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u66f4\u65b0\u3059\u308b\u3053\u3068\u3067\u884c\u308f\u308c\u307e\u3059\u3002 \u3053\u306e\u969b\u306b\u5143\u306e<code>Enabled</code>\u306e\u5024\u306f\u8003\u616e\u3055\u308c\u307e\u305b\u3093\u3002\u30b9\u30b1\u30fc\u30eb\u30a2\u30c3\u30d7/\u30c0\u30a6\u30f3\u524d\u304b\u3089<code>Enabled=false</code>\u3067\u3042\u3063\u3066\u3082ELB\u306b\u30a2\u30bf\u30c3\u30c1\u3059\u308b\u969b\u306b<code>Enabled=true</code>\u3078\u66f4\u65b0\u3055\u308c\u307e\u3059\u3002  </p>"},{"location":"examples/vertical-scale-server-and-elb/#_2","title":"\u69cb\u6210\u4f8b","text":"<p>\u4ee5\u4e0b\u306e\u6761\u4ef6\u3067\u30b5\u30fc\u30d0\u3092\u5782\u76f4\u30b9\u30b1\u30fc\u30eb\u3055\u305b\u308b\u4f8b\u3067\u3059\u3002</p> <ul> <li>\u5bfe\u8c61\u30a8\u30f3\u30cf\u30f3\u30b9\u30c9\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5:<ul> <li>example</li> </ul> </li> <li>\u5bfe\u8c61\u30b5\u30fc\u30d0:<ul> <li>is1a\u30be\u30fc\u30f3\u306eexample1\u3068example2</li> </ul> </li> <li>\u30d7\u30e9\u30f3\u306f\u4ee5\u4e0b\u306e\u7bc4\u56f2\u3068\u3059\u308b<ul> <li>Core:1 / \u30e1\u30e2\u30ea:  1GB</li> <li>Core:2 / \u30e1\u30e2\u30ea:  4GB</li> <li>Core:4 / \u30e1\u30e2\u30ea:  8GB</li> </ul> </li> </ul> <pre><code>resources:\n  - type: Server\n    name: \"servers\"\n    selector:\n      names: [\"example\"] # \u540d\u524d\u306b'example'\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u30ea\u30bd\u30fc\u30b9\u304c\u64cd\u4f5c\u5bfe\u8c61\u3068\u306a\u308b\n      zones: [\"is1a\"]\n\n    parent:\n      type: ELB\n      selector: \"example\"\n\n    plans:\n      - core: 1\n        memory: 1\n      - core: 2\n        memory: 4\n      - core: 4\n        memory: 8\n</code></pre> <p>Info</p> <p>\u30ea\u30bd\u30fc\u30b9\u5b9a\u7fa9\u304c1\u3064\u3060\u3051\u306a\u305f\u3081\u3001Inputs\u304b\u3089\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u6642\u306b<code>resource-name</code>\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u7701\u7565\u53ef\u80fd\u3067\u3059\u3002</p> <pre><code>\u4f8b:  \nWebhook\u7cfb\u306e\u30ea\u30af\u30a8\u30b9\u30c8URL\u4f8b: `http://&lt;your-host&gt;/up`  \nDirect Inputs\u306e\u5b9f\u884c\u4f8b: `autoscaler inputs direct up`\n</code></pre>"},{"location":"examples/vertical-scale-server-and-gslb/","title":"Examples: GSLB + \u30b5\u30fc\u30d0\u306e\u5782\u76f4\u30b9\u30b1\u30fc\u30eb","text":""},{"location":"examples/vertical-scale-server-and-gslb/#_1","title":"\u6982\u8981","text":"<p>GSLB\u914d\u4e0b\u306e\u30b5\u30fc\u30d0\u306e\u5782\u76f4\u30b9\u30b1\u30fc\u30eb(\u30d7\u30e9\u30f3\u5909\u66f4)\u3092\u884c\u3044\u307e\u3059\u3002 Inputs\u304b\u3089\u30d1\u30e9\u30e1\u30fc\u30bf<code>resource-name</code>\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067GSLB\u307e\u305f\u306f\u30b5\u30fc\u30d0\u306e\u30d7\u30e9\u30f3\u5909\u66f4\u304c\u53ef\u80fd\u3067\u3059\u3002  </p> <p>GSLB\u914d\u4e0b\u306b\u6307\u5b9a\u3057\u305f\u30b5\u30fc\u30d0\u306eIP\u30a2\u30c9\u30ec\u30b9\u304cGSLB\u306b\u5b9f\u30b5\u30fc\u30d0\u3068\u3057\u3066\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u51e6\u7406\u3055\u308c\u307e\u3059\u3002  </p> <ul> <li>&lt;\u5404\u30b5\u30fc\u30d0\u3092\u9806\u6b21\u51e6\u7406&gt;<ul> <li>GSLB\u304b\u3089\u30c7\u30bf\u30c3\u30c1</li> <li>\u30b5\u30fc\u30d0\u306e\u30d7\u30e9\u30f3\u5909\u66f4(\u518d\u8d77\u52d5\u3092\u4f34\u3044\u307e\u3059)   </li> <li>GSLB\u3078\u30a2\u30bf\u30c3\u30c1</li> </ul> </li> </ul> <p>Info</p> <p>GSLB\u304b\u3089\u306e\u30c7\u30bf\u30c3\u30c1/\u30a2\u30bf\u30c3\u30c1\u306fGSLB\u306e\u5b9f\u30b5\u30fc\u30d0\u3054\u3068\u306b<code>Enabled</code>\u3068\u3044\u3046\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u66f4\u65b0\u3059\u308b\u3053\u3068\u3067\u884c\u308f\u308c\u307e\u3059\u3002 \u3053\u306e\u969b\u306b\u5143\u306e<code>Enabled</code>\u306e\u5024\u306f\u8003\u616e\u3055\u308c\u307e\u305b\u3093\u3002\u30b9\u30b1\u30fc\u30eb\u30a2\u30c3\u30d7/\u30c0\u30a6\u30f3\u524d\u304b\u3089<code>Enabled=false</code>\u3067\u3042\u3063\u3066\u3082GSLB\u306b\u30a2\u30bf\u30c3\u30c1\u3059\u308b\u969b\u306b<code>Enabled=true</code>\u3078\u66f4\u65b0\u3055\u308c\u307e\u3059\u3002  </p>"},{"location":"examples/vertical-scale-server-and-gslb/#_2","title":"\u69cb\u6210\u4f8b","text":"<p>\u4ee5\u4e0b\u306e\u6761\u4ef6\u3067\u30b5\u30fc\u30d0\u3092\u5782\u76f4\u30b9\u30b1\u30fc\u30eb\u3055\u305b\u308b\u4f8b\u3067\u3059\u3002</p> <ul> <li>\u5bfe\u8c61GSLB:<ul> <li>example</li> </ul> </li> <li>\u5bfe\u8c61\u30b5\u30fc\u30d0:<ul> <li>is1a\u30be\u30fc\u30f3\u306eexample1\u3068example2</li> </ul> </li> <li>\u30d7\u30e9\u30f3\u306f\u4ee5\u4e0b\u306e\u7bc4\u56f2\u3068\u3059\u308b<ul> <li>Core:1 / \u30e1\u30e2\u30ea:  1GB</li> <li>Core:2 / \u30e1\u30e2\u30ea:  4GB</li> <li>Core:4 / \u30e1\u30e2\u30ea:  8GB</li> </ul> </li> </ul> <pre><code>resources:\n  - type: Server\n    name: \"servers\"\n    selector:\n      names: [\"example\"] # \u540d\u524d\u306b'example'\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u30ea\u30bd\u30fc\u30b9\u304c\u64cd\u4f5c\u5bfe\u8c61\u3068\u306a\u308b\n      zones: [\"is1a\"]\n\n    parent:\n      type: GSLB\n      selector: \"example\"\n\n    plans:\n      - core: 1\n        memory: 1\n      - core: 2\n        memory: 4\n      - core: 4\n        memory: 8\n</code></pre> <p>Info</p> <p>\u30ea\u30bd\u30fc\u30b9\u5b9a\u7fa9\u304c1\u3064\u3060\u3051\u306a\u305f\u3081\u3001Inputs\u304b\u3089\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u6642\u306b<code>resource-name</code>\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u7701\u7565\u53ef\u80fd\u3067\u3059\u3002</p> <pre><code>\u4f8b:  \nWebhook\u7cfb\u306e\u30ea\u30af\u30a8\u30b9\u30c8URL\u4f8b: `http://&lt;your-host&gt;/up`  \nDirect Inputs\u306e\u5b9f\u884c\u4f8b: `autoscaler inputs direct up`\n</code></pre>"},{"location":"examples/vertical-scale-server-and-lb/","title":"Examples: LB + \u30b5\u30fc\u30d0\u306e\u5782\u76f4\u30b9\u30b1\u30fc\u30eb","text":""},{"location":"examples/vertical-scale-server-and-lb/#_1","title":"\u6982\u8981","text":"<p>LB\u914d\u4e0b\u306e\u30b5\u30fc\u30d0\u306e\u5782\u76f4\u30b9\u30b1\u30fc\u30eb(\u30d7\u30e9\u30f3\u5909\u66f4)\u3092\u884c\u3044\u307e\u3059\u3002 Inputs\u304b\u3089\u30d1\u30e9\u30e1\u30fc\u30bf<code>resource-name</code>\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067LB\u307e\u305f\u306f\u30b5\u30fc\u30d0\u306e\u30d7\u30e9\u30f3\u5909\u66f4\u304c\u53ef\u80fd\u3067\u3059\u3002  </p> <p>LB\u914d\u4e0b\u306b\u6307\u5b9a\u3057\u305f\u30b5\u30fc\u30d0\u306eIP\u30a2\u30c9\u30ec\u30b9\u304cLB\u306b\u5b9f\u30b5\u30fc\u30d0\u3068\u3057\u3066\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u51e6\u7406\u3055\u308c\u307e\u3059\u3002  </p> <ul> <li>&lt;\u5404\u30b5\u30fc\u30d0\u3092\u9806\u6b21\u51e6\u7406&gt;<ul> <li>LB\u304b\u3089\u30c7\u30bf\u30c3\u30c1</li> <li>\u30b5\u30fc\u30d0\u306e\u30d7\u30e9\u30f3\u5909\u66f4(\u518d\u8d77\u52d5\u3092\u4f34\u3044\u307e\u3059)   </li> <li>LB\u3078\u30a2\u30bf\u30c3\u30c1</li> </ul> </li> </ul> <p>Warning</p> <p>LB+\u30b5\u30fc\u30d0\u306e\u30aa\u30fc\u30c8\u30b9\u30b1\u30fc\u30eb\u306f\u7121\u505c\u6b62/\u30b5\u30fc\u30d3\u30b9\u4e2d\u65ad\u306a\u3057\u3067\u884c\u3048\u307e\u3059\u304c\u3001\u305d\u306e\u305f\u3081\u306b\u306f\u5b9f\u30b5\u30fc\u30d0\u304c2\u53f0\u4ee5\u4e0a\u5fc5\u8981\u3067\u3059\u3002 \u5b9f\u30b5\u30fc\u30d0\u304c2\u53f0\u672a\u6e80\u306e\u5834\u5408\u306f\u30b5\u30fc\u30d0\u304c\u518d\u8d77\u52d5\u3059\u308b\u9593\u306b\u30b5\u30fc\u30d3\u30b9\u4e2d\u65ad\u304c\u767a\u751f\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002 \u307e\u305f\u3001\u30b5\u30fc\u30d0\u306e\u5782\u76f4\u30b9\u30b1\u30fc\u30eb\u5f8c\u306b\u6e96\u5099\u304c\u6574\u308f\u306a\u3044\u307e\u307e\u30b5\u30fc\u30d3\u30b9\u30a4\u30f3\u3055\u305b\u306a\u3044\u3088\u3046\u306b<code>setup_grace_period</code>\u3092\u9069\u5207\u306b\u6307\u5b9a\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059(\u30c7\u30d5\u30a9\u30eb\u30c8\u306f60\u79d2\u3067\u3059)\u3002</p> <p>Info</p> <p>LB\u304b\u3089\u306e\u30c7\u30bf\u30c3\u30c1/\u30a2\u30bf\u30c3\u30c1\u306fLB\u306e\u5b9f\u30b5\u30fc\u30d0\u3054\u3068\u306b<code>Enabled</code>\u3068\u3044\u3046\u30d7\u30ed\u30d1\u30c6\u30a3\u3092\u66f4\u65b0\u3059\u308b\u3053\u3068\u3067\u884c\u308f\u308c\u307e\u3059\u3002 \u3053\u306e\u969b\u306b\u5143\u306e<code>Enabled</code>\u306e\u5024\u306f\u8003\u616e\u3055\u308c\u307e\u305b\u3093\u3002\u30b9\u30b1\u30fc\u30eb\u30a2\u30c3\u30d7/\u30c0\u30a6\u30f3\u524d\u304b\u3089<code>Enabled=false</code>\u3067\u3042\u3063\u3066\u3082ELB\u306b\u30a2\u30bf\u30c3\u30c1\u3059\u308b\u969b\u306b<code>Enabled=true</code>\u3078\u66f4\u65b0\u3055\u308c\u307e\u3059\u3002  </p>"},{"location":"examples/vertical-scale-server-and-lb/#_2","title":"\u69cb\u6210\u4f8b","text":"<p>\u4ee5\u4e0b\u306e\u6761\u4ef6\u3067\u30b5\u30fc\u30d0\u3092\u5782\u76f4\u30b9\u30b1\u30fc\u30eb\u3055\u305b\u308b\u4f8b\u3067\u3059\u3002</p> <ul> <li>\u5bfe\u8c61\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5:<ul> <li>example</li> </ul> </li> <li>\u5bfe\u8c61\u30b5\u30fc\u30d0:<ul> <li>is1a\u30be\u30fc\u30f3\u306eexample1\u3068example2</li> </ul> </li> <li>\u30d7\u30e9\u30f3\u306f\u4ee5\u4e0b\u306e\u7bc4\u56f2\u3068\u3059\u308b<ul> <li>Core:1 / \u30e1\u30e2\u30ea:  1GB</li> <li>Core:2 / \u30e1\u30e2\u30ea:  4GB</li> <li>Core:4 / \u30e1\u30e2\u30ea:  8GB</li> </ul> </li> </ul> <pre><code>resources:\n\n  - type: Server\n    name: \"servers\"\n    selector:\n      names: [\"example\"] \n      zones: [\"is1a\"]\n\n    plans:\n      - core: 1\n        memory: 1\n      - core: 2\n        memory: 4\n      - core: 4\n        memory: 8\n\n    parent:\n      type: LoadBalancer\n      selector: \"example\"\n</code></pre> <p>Info</p> <p>\u30ea\u30bd\u30fc\u30b9\u5b9a\u7fa9\u304c1\u3064\u3060\u3051\u306a\u305f\u3081\u3001Inputs\u304b\u3089\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u6642\u306b<code>resource-name</code>\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u7701\u7565\u53ef\u80fd\u3067\u3059\u3002</p> <pre><code>\u4f8b:  \nWebhook\u7cfb\u306e\u30ea\u30af\u30a8\u30b9\u30c8URL\u4f8b: `http://&lt;your-host&gt;/up`  \nDirect Inputs\u306e\u5b9f\u884c\u4f8b: `autoscaler inputs direct up`\n</code></pre>"},{"location":"examples/vertical-scale-server/","title":"Examples: \u30b5\u30fc\u30d0\u306e\u5782\u76f4\u30b9\u30b1\u30fc\u30eb","text":""},{"location":"examples/vertical-scale-server/#_1","title":"\u6982\u8981","text":"<p>\u30b5\u30fc\u30d0\u306e\u5782\u76f4\u30b9\u30b1\u30fc\u30eb(\u30d7\u30e9\u30f3\u5909\u66f4)\u3092\u884c\u3044\u307e\u3059\u3002 \u3042\u3089\u304b\u3058\u3081\u5b9a\u7fa9\u3057\u305f\u7bc4\u56f2\u306e\u4e2d\u3067CPU/\u30e1\u30e2\u30ea\u30b5\u30a4\u30ba\u306e\u7d44\u307f\u5408\u308f\u305b\u3092\u4e0a\u4e0b\u3055\u305b\u307e\u3059\u3002  </p> <p>Info</p> <p>\u30b5\u30fc\u30d0\u306e\u30d7\u30e9\u30f3\u5909\u66f4\u6642\u306b\u306f\u30b5\u30fc\u30d0\u306e\u518d\u8d77\u52d5\u304c\u5fc5\u8981\u3067\u3059\u3002 \u3053\u306e\u305f\u3081\u3001\u30a4\u30f3\u30d5\u30e9\u69cb\u6210\u306b\u3088\u3063\u3066\u306f\u30b5\u30fc\u30d3\u30b9\u505c\u6b62\u304c\u767a\u751f\u3057\u307e\u3059\u3002 Web\u30b5\u30fc\u30d0\u306e\u3088\u3046\u306a\u5916\u90e8\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3055\u308c\u308b\u3088\u3046\u306a\u30b5\u30fc\u30d3\u30b9\u3092\u7a3c\u50cd\u3055\u305b\u3066\u3044\u308b\u5834\u5408\u306fELB\u3084LB\u3068\u306e\u7d44\u307f\u5408\u308f\u305b\u3092\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002  </p> <p>\u53c2\u8003:   - \u5782\u76f4\u30b9\u30b1\u30fc\u30eb: \u30b5\u30fc\u30d0+\u30a8\u30f3\u30cf\u30f3\u30b9\u30c9\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5   - \u5782\u76f4\u30b9\u30b1\u30fc\u30eb: \u30b5\u30fc\u30d0+\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5 </p>"},{"location":"examples/vertical-scale-server/#_2","title":"\u69cb\u6210\u4f8b","text":"<p>\u4ee5\u4e0b\u306e\u6761\u4ef6\u3067\u30b5\u30fc\u30d0\u3092\u5782\u76f4\u30b9\u30b1\u30fc\u30eb\u3055\u305b\u308b\u4f8b\u3067\u3059\u3002</p> <ul> <li>\u5bfe\u8c61\u30b5\u30fc\u30d0:<ul> <li>is1a\u30be\u30fc\u30f3\u306eexample1\u3068example2</li> </ul> </li> <li>\u30d7\u30e9\u30f3\u306f\u4ee5\u4e0b\u306e\u7bc4\u56f2\u3068\u3059\u308b<ul> <li>Core:1 / \u30e1\u30e2\u30ea:  1GB</li> <li>Core:2 / \u30e1\u30e2\u30ea:  4GB</li> <li>Core:4 / \u30e1\u30e2\u30ea:  8GB</li> </ul> </li> </ul> <pre><code>resources:\n  - type: Server\n    name: \"servers\"\n    selector:\n      names: [\"example\"] # \u540d\u524d\u306b'example'\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u30ea\u30bd\u30fc\u30b9\u304c\u64cd\u4f5c\u5bfe\u8c61\u3068\u306a\u308b\n      zones: [\"is1a\"]\n\n    plans:\n      - core: 1\n        memory: 1\n      - core: 2\n        memory: 4\n      - core: 4\n        memory: 8\n</code></pre> <p>Info</p> <p>\u30ea\u30bd\u30fc\u30b9\u5b9a\u7fa9\u304c1\u3064\u3060\u3051\u306a\u305f\u3081\u3001Inputs\u304b\u3089\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u6642\u306b<code>resource-name</code>\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u7701\u7565\u53ef\u80fd\u3067\u3059\u3002</p> <pre><code>\u4f8b:  \nWebhook\u7cfb\u306e\u30ea\u30af\u30a8\u30b9\u30c8URL\u4f8b: `http://&lt;your-host&gt;/up`  \nDirect Inputs\u306e\u5b9f\u884c\u4f8b: `autoscaler inputs direct up`\n</code></pre>"},{"location":"inputs/","title":"AutoScaler Inputs","text":"<p>\u4ee5\u4e0b\u306eInputs\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002 \u8a73\u7d30\u306f\u5404Inputs\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <ul> <li>AlertManager Inputs</li> <li>Grafana Inputs</li> <li>Zabbix Inputs</li> <li>Webhook Inputs</li> <li>Direct Inputs</li> </ul> <p>\u5404Inputs\u5171\u901a\u306e\u8a2d\u5b9a\u306b\u3064\u3044\u3066\u306f\u4ee5\u4e0b\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002  </p> <ul> <li>Inputs\u5171\u901a\u8a2d\u5b9a</li> </ul>"},{"location":"inputs/config/","title":"\u5171\u901a\u8a2d\u5b9a","text":""},{"location":"inputs/config/#inputs","title":"Inputs\u5171\u901a\u8a2d\u5b9a","text":"<p>\u5404Inputs\u306f<code>--config</code>\u3068\u3044\u3046\u30d1\u30e9\u30e1\u30fc\u30bf\u3067Exporter\u306a\u3069\u3092\u8a2d\u5b9a\u3092\u8a18\u8ff0\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30d1\u30b9\u3092\u6307\u5b9a\u53ef\u80fd\u3067\u3059\u3002</p> <p>\u5229\u7528\u4f8b:</p> <pre><code>$ autoscaler inputs grafana --addr 192.0.2.1:443 --config your-config.yaml\n</code></pre> <p>\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u66f8\u5f0f\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002</p> <pre><code># Exporter\u306e\u8a2d\u5b9a\nexporter_config:\n  enabled: &lt;bool&gt;\n  address: &lt;string | default=\":8081\"&gt;\n</code></pre>"},{"location":"inputs/alertmanager/","title":"AlertManager Inputs","text":"<p>AlertManager\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306e\u8a2d\u5b9a\u306b\u3064\u3044\u3066\u8a18\u8f09\u3057\u307e\u3059\u3002  </p>"},{"location":"inputs/alertmanager/#_1","title":"\u524d\u63d0\u6761\u4ef6","text":"<ul> <li>AlertManager\u304b\u3089AlertManager Inputs\u3078\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u758e\u901a\u304c\u53ef\u80fd\u306a\u3053\u3068</li> <li>Inputs\u304b\u3089AutoScaler Core\u3078\u306e\u758e\u901a\u304c\u53ef\u80fd\u306a\u3053\u3068</li> </ul>"},{"location":"inputs/alertmanager/#alertmanager","title":"AlertManager\u306e\u8a2d\u5b9a","text":"<p>AlertManager Inputs\u3092\u5229\u7528\u3059\u308b\u306b\u306fAlertManager\u3067Webhook\u306e\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u3002  </p>"},{"location":"inputs/alertmanager/#alertmanagerwebhook","title":"AlertManager\u306eWebhook\u8a2d\u5b9a","text":"<p>AlertManager\u306eConfig\u3067\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002</p> <pre><code>route:\n  receiver: default #\u4efb\u610f\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u30ec\u30b7\u30fc\u30d0\u30fc\n  routes:\n    - receiver: 'autoscaler-up'\n      matchers:\n        - autoscaler = up # \u4efb\u610f\u3001Prometheus\u5074\u306e\u30a2\u30e9\u30fc\u30c8\u8a2d\u5b9a\u3068\u63c3\u3048\u308b\n\n    - receiver: 'autoscaler-down'\n      matchers:\n        - autoscaler = down # \u4efb\u610f\u3001Prometheus\u5074\u306e\u30a2\u30e9\u30fc\u30c8\u8a2d\u5b9a\u3068\u63c3\u3048\u308b\n\nreceivers:\n  - name: 'default'\n    # ... \u4efb\u610f\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u30ec\u30b7\u30fc\u30d0\u30fc\n\n  - name: 'autoscaler-up'\n    webhook_configs:\n      - url: \"AlertManager Inputs\u306eURL&gt;/up?[key=value]...\" #\u8a73\u7d30\u306f\u4e0b\u8a18\u3092\u53c2\u7167\n        send_resolved: false\n\n  - name: \"AlertManager Inputs\u306eURL&gt;/down?[key=value]...\" #\u8a73\u7d30\u306f\u4e0b\u8a18\u3092\u53c2\u7167\n    webhook_configs:\n      - url: http://autoscaler-inputs:8080/down\n        send_resolved: false\n</code></pre> <ul> <li><code>webhook_configs.url</code> : <code>&lt;AlertManager Inputs\u306eURL&gt;/up?[key=value]...</code></li> </ul> <p><code>webhook_configs.url</code>\u306b\u306f\u4ee5\u4e0b\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u6307\u5b9a\u53ef\u80fd\u3067\u3059\u3002</p> <ul> <li><code>source</code>: \u30ea\u30af\u30a8\u30b9\u30c8\u5143\u3092\u8b58\u5225\u3059\u308b\u305f\u3081\u306e\u540d\u79f0\u3002\u4efb\u610f\u306e\u5024\u3092\u5229\u7528\u53ef\u80fd\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u5024:<code>default</code></li> <li><code>resource-name</code>: \u64cd\u4f5c\u5bfe\u8c61\u306e\u30ea\u30bd\u30fc\u30b9\u306e\u540d\u524d\u3002Core\u306e\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u5b9a\u7fa9\u3057\u305f\u30ea\u30bd\u30fc\u30b9\u540d\u3092\u6307\u5b9a\u3059\u308b\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u5024:<code>default</code></li> <li><code>desired-state-name</code>: \u5e0c\u671b\u3059\u308b\u72b6\u614b\u306e\u540d\u524d\u3002Core\u306e\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u5b9a\u7fa9\u3057\u305f\u30d7\u30e9\u30f3\u540d\u3092\u6307\u5b9a\u3059\u308b\u3002\u7279\u5b9a\u306e\u6642\u523b\u306b\u7279\u5b9a\u306e\u30b9\u30da\u30c3\u30af\u306b\u3057\u305f\u3044\u5834\u5408\u306a\u3069\u306b\u5229\u7528\u3059\u308b\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u5024:<code>\"\"</code> </li> </ul> <p>\u3053\u308c\u3089\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8907\u6570\u6307\u5b9a\u3059\u308b\u5834\u5408\u306f<code>&amp;</code>\u3067\u7e4b\u3052\u3066\u8a18\u8f09\u3057\u307e\u3059\u3002  </p> <p><code>webhook_configs.url</code>\u306e\u8a18\u8f09\u4f8b: <code>http://example.com:8080/up?source=grafana&amp;resource-name=resource1</code></p>"},{"location":"inputs/alertmanager/#prometheusalert","title":"Prometheus\u306eAlert\u8a2d\u5b9a","text":"<p>AlertManager\u306e<code>routes</code>\u3067\u6307\u5b9a\u3057\u305fmatchers\u306b\u5408\u81f4\u3059\u308b\u3088\u3046\u306bAlert\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002</p> <p>\u8a2d\u5b9a\u4f8b:</p> <pre><code>groups:\n- name: example\n  rules:\n  - alert: scale_up\n    expr: avg_over_time(sakuracloud_server_cpu_time{zone=\"tk1a\"}[1h]) &gt; 80 # tk1a\u30be\u30fc\u30f3\u306e\u30b5\u30fc\u30d0\u306eCPU-TIME\u306e\u76f4\u8fd1\u4e00\u6642\u9593\u306e\u5e73\u5747\n    for: 5m\n    labels:\n      autoscaler: up # AlertManager\u5074\u306ematchers\u3068\u63c3\u3048\u308b\n    annotations:\n      summary: \"Servers on tk1a zone are keeping high workloads, scaling up...\"\n      description: \"Servers on tk1a zone are keeping high workloads, scaling up...\"\n</code></pre> <p>Note: AutoScaler\u306b\u3088\u308b\u64cd\u4f5c\u3067\u30a2\u30e9\u30fc\u30c8\u72b6\u614b\u304c\u89e3\u6d88\u3067\u304d\u308b\u3088\u3046\u306a\u30eb\u30fc\u30eb\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 AutoScaler Core\u306f\u540c\u4e00\u306e<code>resource-name</code>\u3078\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u51b7\u5374\u671f\u9593\u306e\u9593\u306f\u7121\u8996\u3057\u307e\u3059\u304c\u3001\u51b7\u5374\u671f\u9593\u304c\u3059\u304e\u308b\u3068\u518d\u5ea6\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u53d7\u3051\u4ed8\u3051\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 \u3053\u306e\u305f\u3081\u30a2\u30e9\u30fc\u30c8\u306e\u6761\u4ef6\u8a2d\u5b9a\u6b21\u7b2c\u3067\u306f\u30b9\u30b1\u30fc\u30eb\u52d5\u4f5c\u3092\u7e70\u308a\u8fd4\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002  </p>"},{"location":"inputs/direct/","title":"Direct Inputs","text":"<p>Direct Inputs\u3092\u5229\u7528\u3059\u308b\u65b9\u6cd5\u3064\u3044\u3066\u8a18\u8f09\u3057\u307e\u3059\u3002  </p>"},{"location":"inputs/direct/#direct-inputs_1","title":"Direct Inputs\u3068\u306f","text":"<p>\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089AutoScaler Core\u3078\u76f4\u63a5Up/Down\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u4fe1\u3059\u308b\u305f\u3081\u306eCLI\u3067\u3059\u3002 cron\u3067\u306e\u5b9f\u884c\u3084\u52d5\u4f5c\u78ba\u8a8d\u306a\u3069\u3067\u5229\u7528\u3057\u307e\u3059\u3002</p>"},{"location":"inputs/direct/#_1","title":"\u524d\u63d0\u6761\u4ef6","text":"<ul> <li>Direct Inputs\u304b\u3089AutoScaler Core\u3078\u306e\u758e\u901a\u304c\u53ef\u80fd\u306a\u3053\u3068</li> </ul>"},{"location":"inputs/direct/#_2","title":"\u5229\u7528\u65b9\u6cd5","text":"<p><code>autoscaler inputs direct</code>\u3067\u5b9f\u884c\u53ef\u80fd\u3067\u3059\u3002 \u6307\u5b9a\u53ef\u80fd\u306a\u30aa\u30d7\u30b7\u30e7\u30f3\u306a\u3069\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002  </p> <pre><code>$ autoscaler inputs direct -h\n\nSend Up/Down request directly to Core server\n\nUsage:\n  autoscaler inputs direct {up | down} [flags]...\n\nFlags:\n      --config string               Filepath to Inputs additional configuration file\n      --desired-state-name string   Name of the desired state defined in Core's configuration file\n      --dest string                 Address of the gRPC endpoint of AutoScaler Core. \n                                    If no value is specified, it will search for a valid value among the following values and use it.\n                                    [unix:autoscaler.sock, unix:/var/run/autoscaler.sock, unix:/var/run/autoscaler/autoscaler.sock]\n  -h, --help                        help for direct\n      --resource-name string        Name of the target resource (default \"default\")\n      --source string               A string representing the request source, passed to AutoScaler Core (default \"default\")\n      --sync                        Flag for synchronous handling  \n\nGlobal Flags:\n      --log-format string   Format of logging to be output. options: [ logfmt | json ] (default \"logfmt\")\n      --log-level string    Level of logging to be output. options: [ error | warn | info | debug ] (default \"info\")\n</code></pre>"},{"location":"inputs/direct/#_3","title":"\u975e\u540c\u671f\u30e2\u30fc\u30c9/\u540c\u671f\u30e2\u30fc\u30c9\u306b\u3064\u3044\u3066","text":""},{"location":"inputs/direct/#_4","title":"\u975e\u540c\u671f\u30e2\u30fc\u30c9(\u30c7\u30d5\u30a9\u30eb\u30c8)","text":"<p><code>autoscaler inputs direct</code>\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u3060\u3068\u975e\u540c\u671f\u30e2\u30fc\u30c9\u3067\u52d5\u4f5c\u3057\u307e\u3059\u3002 \u975e\u540c\u671f\u30e2\u30fc\u30c9\u3067\u306fCore\u306b\u5bfe\u3057Up or Down\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u6295\u3052\u305f\u5f8c\u3001\u7d50\u679c\u3092\u5f85\u305f\u305a\u306b\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u3092\u7d42\u4e86\u3057\u307e\u3059\u3002  </p>"},{"location":"inputs/direct/#_5","title":"\u540c\u671f\u30e2\u30fc\u30c9","text":"<p><code>--sync</code>\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u540c\u671f\u30e2\u30fc\u30c9\u3068\u306a\u308a\u307e\u3059\u3002 \u540c\u671f\u30e2\u30fc\u30c9\u3067\u306fCore\u306b\u5bfe\u3057Up or Down\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u6295\u3052\u308b\u3068\u3001\u7d50\u679c\u304c\u8fd4\u3063\u3066\u304f\u308b\u307e\u3067\u5f85\u6a5f\u3057\u307e\u3059\u3002</p>"},{"location":"inputs/direct/#_6","title":"\u540c\u671f\u30e2\u30fc\u30c9\u3067\u306e\u7d42\u4e86\u30b3\u30fc\u30c9","text":"<p>\u540c\u671f\u30e2\u30fc\u30c9\u3067\u306f\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u7d50\u679c\u306b\u5fdc\u3058\u3066\u4ee5\u4e0b\u306e\u3044\u305a\u308c\u304b\u306e\u7d42\u4e86\u30b3\u30fc\u30c9\u3092\u8fd4\u3057\u307e\u3059\u3002</p> <ul> <li><code>0</code>: \u6b63\u5e38\u7d42\u4e86(JOB_DONE)\u306e\u5834\u5408</li> <li><code>1</code>: \u4f55\u3089\u304b\u306e\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u305f\u5834\u5408</li> <li><code>129</code>: up/down\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u53d7\u3051\u53d6\u3063\u305f\u304c\u51e6\u7406\u306a\u3057(JOB_DONE_NOOP)\u306e\u5834\u5408</li> <li><code>130</code>: up/down\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u53d7\u3051\u5165\u308c\u3089\u308c\u306a\u3044\u72b6\u614b\u306e\u5834\u5408(\u51e6\u7406\u306e\u5b9f\u884c\u4e2d\u3084cooldown\u671f\u9593\u4e2d\u3001\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u4e2d\u306e\u5834\u5408\u306a\u3069)</li> </ul>"},{"location":"inputs/grafana/","title":"Grafana Inputs","text":"<p>Grafana\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306e\u8a2d\u5b9a\u306b\u3064\u3044\u3066\u8a18\u8f09\u3057\u307e\u3059\u3002  </p>"},{"location":"inputs/grafana/#_1","title":"\u524d\u63d0\u6761\u4ef6","text":"<ul> <li>Grafana\u304b\u3089Grafana Inputs\u3078\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u758e\u901a\u304c\u53ef\u80fd\u306a\u3053\u3068</li> <li>Grafana Inputs\u304b\u3089AutoScaler Core\u3078\u306e\u758e\u901a\u304c\u53ef\u80fd\u306a\u3053\u3068</li> </ul>"},{"location":"inputs/grafana/#grafana","title":"Grafana\u306e\u8a2d\u5b9a","text":"<p>Grafana Inputs\u3092\u5229\u7528\u3059\u308b\u306b\u306fGrafana\u5074\u3067Notification Channel\u3092\u8a2d\u5b9a\u3057\u305f\u4e0a\u3067Alerts\u3092\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002  </p>"},{"location":"inputs/grafana/#notification-channel","title":"Notification Channel\u306e\u8a2d\u5b9a","text":"<p>AutoScaler Core\u3078\u306eUp\u307e\u305f\u306fDown\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u4fe1\u3059\u308b\u305f\u3081\u306eWebhook\u3092Notification Channel\u306b\u767b\u9332\u3057\u307e\u3059\u3002  </p> <p></p> <p>\u30d1\u30e9\u30e1\u30fc\u30bf\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5165\u529b\u3057\u307e\u3059\u3002  </p> <ul> <li>Name: \u4efb\u610f</li> <li>Type: webhook</li> <li>Url: </li> <li>\u30b9\u30b1\u30fc\u30eb\u30a2\u30c3\u30d7/\u30b9\u30b1\u30fc\u30eb\u30a2\u30a6\u30c8\u7528\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8: <code>&lt;Grafana Inputs\u306eURL&gt;/up?[key=value]...</code></li> <li>\u30b9\u30b1\u30fc\u30eb\u30c0\u30a6\u30f3/\u30b9\u30b1\u30fc\u30eb\u30a4\u30f3\u7528\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8: <code>&lt;Grafana Inputs\u306eURL&gt;/down?[key=value]...</code></li> <li>Http Method: <code>POST</code> | <code>PUT</code> (\u3069\u3061\u3089\u3067\u3082\u53ef)</li> </ul> <p>Url\u306b\u306f\u4ee5\u4e0b\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u6307\u5b9a\u53ef\u80fd\u3067\u3059\u3002</p> <ul> <li><code>source</code>: \u30ea\u30af\u30a8\u30b9\u30c8\u5143\u3092\u8b58\u5225\u3059\u308b\u305f\u3081\u306e\u540d\u79f0\u3002\u4efb\u610f\u306e\u5024\u3092\u5229\u7528\u53ef\u80fd\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u5024:<code>default</code></li> <li><code>resource-name</code>: \u64cd\u4f5c\u5bfe\u8c61\u306e\u30ea\u30bd\u30fc\u30b9\u306e\u540d\u524d\u3002Core\u306e\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u5b9a\u7fa9\u3057\u305f\u30ea\u30bd\u30fc\u30b9\u540d\u3092\u6307\u5b9a\u3059\u308b\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u5024:<code>default</code></li> <li><code>desired-state-name</code>: \u5e0c\u671b\u3059\u308b\u72b6\u614b\u306e\u540d\u524d\u3002Core\u306e\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u5b9a\u7fa9\u3057\u305f\u30d7\u30e9\u30f3\u540d\u3092\u6307\u5b9a\u3059\u308b\u3002\u7279\u5b9a\u306e\u6642\u523b\u306b\u7279\u5b9a\u306e\u30b9\u30da\u30c3\u30af\u306b\u3057\u305f\u3044\u5834\u5408\u306a\u3069\u306b\u5229\u7528\u3059\u308b\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u5024:<code>\"\"</code> </li> </ul> <p>\u3053\u308c\u3089\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8907\u6570\u6307\u5b9a\u3059\u308b\u5834\u5408\u306f<code>&amp;</code>\u3067\u7e4b\u3052\u3066\u8a18\u8f09\u3057\u307e\u3059\u3002  </p> <p>Url\u306e\u8a18\u8f09\u4f8b: <code>http://example.com:8080/up?source=grafana&amp;resource-name=resource1</code></p>"},{"location":"inputs/grafana/#config-file","title":"Config File\u306b\u3088\u308b\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u3092\u884c\u3046\u5834\u5408\u306e\u4f8b","text":"<pre><code># /etc/grafana/provisioning/notifiers/example.yaml\nnotifiers:\n  - name: \"AutoScaler:Up\"\n    type: webhook\n    org_id: 1\n    uid: 1\n    is_default: false\n    send_reminder: false\n    frequency: 30m\n    disable_resolve_message: true\n    settings:\n      autoResolve: true\n      httpMethod: \"POST\"\n      uploadImage: false\n      url: \"http://example.com:8080/up?source=grafana&amp;resource-name=resource1\"\n</code></pre>"},{"location":"inputs/grafana/#api","title":"API\u3067\u767b\u9332\u3059\u308b\u5834\u5408\u306e\u4f8b","text":"<p>Grafana\u306eAPI(<code>POST /api/alert-notifications</code>)\u3092\u5229\u7528\u3057\u3066Notification Channel\u3092\u767b\u9332\u3059\u308b\u4f8b:</p> <pre><code>POST /api/alert-notifications HTTP/1.1\nAccept: application/json\nContent-Type: application/json\nAuthorization: Bearer eyJrIjoiT0tTcG1pUlY2RnVKZTFVaDFsNFZXdE9ZWmNrMkZYbk\n\n{\n  \"name\": \"AutoScaler: Up\",\n  \"type\": \"webhook\",\n  \"isDefault\": false,\n  \"sendReminder\": false,\n  \"disableResolveMessage\": true,\n  \"frequency\": \"\",\n  \"settings\": {\n    \"autoResolve\": true,\n    \"httpMethod\": \"POST\",\n    \"uploadImage\": false,\n    \"url\": \"http://example.com:8080/up?source=grafana&amp;resource-name=resource1\"\n  }\n}\n</code></pre>"},{"location":"inputs/grafana/#grafanaalert","title":"Grafana\u3067\u306eAlert\u8a2d\u5b9a","text":"<p>Note: AutoScaler\u306b\u3088\u308b\u64cd\u4f5c\u3067\u30a2\u30e9\u30fc\u30c8\u72b6\u614b\u304c\u89e3\u6d88\u3067\u304d\u308b\u3088\u3046\u306a\u30eb\u30fc\u30eb\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 AutoScaler Core\u306f\u540c\u4e00\u306e<code>resource-group-name</code>\u3078\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u51b7\u5374\u671f\u9593\u306e\u9593\u306f\u7121\u8996\u3057\u307e\u3059\u304c\u3001\u51b7\u5374\u671f\u9593\u304c\u3059\u304e\u308b\u3068\u518d\u5ea6\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u53d7\u3051\u4ed8\u3051\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 \u3053\u306e\u305f\u3081\u30a2\u30e9\u30fc\u30c8\u306e\u6761\u4ef6\u8a2d\u5b9a\u6b21\u7b2c\u3067\u306f\u30b9\u30b1\u30fc\u30eb\u52d5\u4f5c\u3092\u7e70\u308a\u8fd4\u3057\u3066\u3057\u307e\u3044\u307e\u3059\u3002  </p>"},{"location":"inputs/webhook/","title":"\u6c4e\u7528Webhook Inputs","text":"<p>\u6c4e\u7528Webhook Inputs\u3068\u306f\u3001\u69d8\u3005\u306a\u76e3\u8996\u30c4\u30fc\u30eb\u304b\u3089\u306eWebhook\u3092\u53d7\u3051\u3001\u4efb\u610f\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u7528\u3044\u3066\u30cf\u30f3\u30c9\u30eb\u3059\u3079\u304dWebhook\u304b\u3092\u5224\u5b9a\u3059\u308bInputs\u3067\u3059\u3002  </p> <p>\u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3067\u306fWebhook Inputs\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306e\u8a2d\u5b9a\u306b\u3064\u3044\u3066\u8a18\u8f09\u3057\u307e\u3059\u3002  </p>"},{"location":"inputs/webhook/#_1","title":"\u524d\u63d0\u6761\u4ef6","text":"<ul> <li>\u4f55\u3089\u304b\u306eWebhook\u3092\u53d7\u4fe1\u53ef\u80fd\u3067\u3042\u308b\u3053\u3068</li> <li>Inputs\u304b\u3089AutoScaler Core\u3078\u306e\u758e\u901a\u304c\u53ef\u80fd\u306a\u3053\u3068</li> </ul>"},{"location":"inputs/webhook/#webhook","title":"Webhook\u9001\u4fe1\u5074\u306e\u8a2d\u5b9a","text":"<p>\u76e3\u8996\u30c4\u30fc\u30eb\u306a\u3069\u3067AutoScaler Core\u3078\u306eUp\u307e\u305f\u306fDown\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u4fe1\u3059\u308b\u305f\u3081\u306eWebhook\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002  </p> <p>\u9001\u4fe1\u5148URL\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u307e\u3059\u3002</p> <ul> <li>\u30b9\u30b1\u30fc\u30eb\u30a2\u30c3\u30d7/\u30b9\u30b1\u30fc\u30eb\u30a2\u30a6\u30c8\u7528\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8: <code>&lt;Webhook Inputs\u306eURL&gt;/up?[key=value]...</code></li> <li>\u30b9\u30b1\u30fc\u30eb\u30c0\u30a6\u30f3/\u30b9\u30b1\u30fc\u30eb\u30a4\u30f3\u7528\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8: <code>&lt;Webhook Inputs\u306eURL&gt;/down?[key=value]...</code></li> </ul> <p>URL\u306b\u306f\u4ee5\u4e0b\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u6307\u5b9a\u53ef\u80fd\u3067\u3059\u3002</p> <ul> <li><code>source</code>: \u30ea\u30af\u30a8\u30b9\u30c8\u5143\u3092\u8b58\u5225\u3059\u308b\u305f\u3081\u306e\u540d\u79f0\u3002\u4efb\u610f\u306e\u5024\u3092\u5229\u7528\u53ef\u80fd\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u5024:<code>default</code></li> <li><code>resource-name</code>: \u64cd\u4f5c\u5bfe\u8c61\u306e\u30ea\u30bd\u30fc\u30b9\u306e\u540d\u524d\u3002Core\u306e\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u5b9a\u7fa9\u3057\u305f\u30ea\u30bd\u30fc\u30b9\u540d\u3092\u6307\u5b9a\u3059\u308b\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u5024:<code>default</code></li> <li><code>desired-state-name</code>: \u5e0c\u671b\u3059\u308b\u72b6\u614b\u306e\u540d\u524d\u3002Core\u306e\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u5b9a\u7fa9\u3057\u305f\u30d7\u30e9\u30f3\u540d\u3092\u6307\u5b9a\u3059\u308b\u3002\u7279\u5b9a\u306e\u6642\u523b\u306b\u7279\u5b9a\u306e\u30b9\u30da\u30c3\u30af\u306b\u3057\u305f\u3044\u5834\u5408\u306a\u3069\u306b\u5229\u7528\u3059\u308b\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u5024:<code>\"\"</code></li> </ul> <p>\u3053\u308c\u3089\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8907\u6570\u6307\u5b9a\u3059\u308b\u5834\u5408\u306f<code>&amp;</code>\u3067\u7e4b\u3052\u3066\u8a18\u8f09\u3057\u307e\u3059\u3002</p> <p>Url\u306e\u8a18\u8f09\u4f8b: <code>http://example.com:8080/up?source=grafana&amp;resource-name=resource1</code></p>"},{"location":"inputs/webhook/#mackerelwebhook","title":"\u5229\u7528\u4f8b: Mackerel\u306eWebhook\u3092\u5229\u7528\u3059\u308b\u5834\u5408","text":"<p>Mackerel\u306eWebhook\u3067\u306e\u901a\u77e5\u3092\u5229\u7528\u3059\u308b\u4f8b\u3067\u3059\u3002</p> <p>\u3042\u3089\u304b\u3058\u3081Mackerel\u5074\u3067Webhook\u3092\u9001\u4fe1\u3059\u308b\u305f\u3081\u306e\u8a2d\u5b9a\u3092\u3057\u3066\u304a\u304d\u307e\u3059\u3002 \u53c2\u8003: Mackerel\u30d8\u30eb\u30d7: Webhook\u306b\u30a2\u30e9\u30fc\u30c8\u3092\u901a\u77e5\u3059\u308b </p> <p>\u6b21\u306b\u3001Webhook\u306e\u30dc\u30c7\u30a3\u3092\u89e3\u6790\u3057\u3001AutoScaler\u3067\u30cf\u30f3\u30c9\u30eb\u3059\u3079\u304d\u30ea\u30af\u30a8\u30b9\u30c8\u306a\u306e\u304b\u3092\u5224\u5b9a\u3059\u308b\u305f\u3081\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002  </p> <p>\u3053\u3053\u3067\u306f<code>jq</code>\u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3057\u3001Webhook\u306e\u30dc\u30c7\u30a3\u306e<code>alert.status</code>\u304c<code>warning</code>\u3060\u3063\u305f\u5834\u5408\u306f\u30cf\u30f3\u30c9\u30eb\u3059\u308b\u3088\u3046\u306b\u3057\u307e\u3059\u3002 \u4ee5\u4e0b\u306e\u5185\u5bb9\u3067<code>mackerel.sh</code>\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002</p> <pre><code>#!/bin/sh\n\njq -e 'select(.alert.status == \"warning\")'\n</code></pre> <p>\u4f5c\u6210\u3057\u305f\u3089<code>chmod +x</code>\u306a\u3069\u3067\u9069\u5207\u306a\u6a29\u9650\u3092\u4ed8\u4e0e\u3057\u3066\u304a\u3044\u3066\u304f\u3060\u3055\u3044\u3002</p> <pre><code>$ chmod +x mackerel.sh\n</code></pre> <p>\u6b21\u306bWebhook Inputs\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002</p> <pre><code>$ autoscaler inputs webhook --accept-http-methods \"POST\" --executable-path mackerel.sh\n</code></pre>"},{"location":"inputs/webhook/#-executable-path","title":"<code>--executable-path</code>\u306b\u6307\u5b9a\u3059\u308b\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u3064\u3044\u3066","text":"<p>\u5b9f\u884c\u53ef\u80fd\u306a\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u30b9\u30af\u30ea\u30d7\u30c8\u304c\u7d42\u4e86\u30b3\u30fc\u30c90\u3092\u8fd4\u3057\u305f\u3089\u30cf\u30f3\u30c9\u30eb\u3059\u3079\u304dWebhook\u3068\u5224\u65ad\u3057\u307e\u3059\u3002</p>"},{"location":"inputs/zabbix/","title":"Zabbix Inputs","text":"<p>Zabbix\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306e\u8a2d\u5b9a\u306b\u3064\u3044\u3066\u8a18\u8f09\u3057\u307e\u3059\u3002</p>"},{"location":"inputs/zabbix/#_1","title":"\u524d\u63d0\u6761\u4ef6","text":"<ul> <li>Zabbix\u304b\u3089Zabbix Inputs\u3078\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u758e\u901a\u304c\u53ef\u80fd\u306a\u3053\u3068</li> <li>Zabbix Inputs\u304b\u3089AutoScaler Core\u3078\u306e\u758e\u901a\u304c\u53ef\u80fd\u306a\u3053\u3068</li> <li>Zabbix 5.0\u4ee5\u964d\u3067\u3042\u308b\u3053\u3068(\u52d5\u4f5c\u78ba\u8a8d\u306f5.0\u3067\u884c\u306a\u3063\u3066\u3044\u307e\u3059)</li> </ul>"},{"location":"inputs/zabbix/#media-types","title":"Media types\u306e\u30a4\u30f3\u30dd\u30fc\u30c8/\u8a2d\u5b9a","text":""},{"location":"inputs/zabbix/#zabbix-inputsmedia-types","title":"Zabbix Inputs\u5411\u3051\u306eMedia types\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9","text":"<p>GitHub\u4e0a\u3067\u516c\u958b\u3057\u3066\u3044\u308bZabbix Inputs\u5411\u3051\u306exml\u30d5\u30a1\u30a4\u30eb\u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3057\u307e\u3059\u3002  </p> <p>https://github.com/sacloud/autoscaler/blob/main/examples/zabbix</p>"},{"location":"inputs/zabbix/#media-types_1","title":"Media types\u306e\u30a4\u30f3\u30dd\u30fc\u30c8","text":"<p>\u307e\u305aZabbix\u306e\u7ba1\u7406\u753b\u9762\u304b\u3089Zabbix Inputs\u7528\u306eMedia types\u30922\u3064\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002  </p> <p>\u30e1\u30cb\u30e5\u30fc\u306e<code>Administration</code> - <code>Media types</code>\u3092\u958b\u304d\u3001\u53f3\u4e0a\u306e<code>Import</code>\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002  </p> <p></p> <p>\u6b21\u306b<code>Media types</code>\u306e<code>Create new</code>\u3060\u3051\u306b\u30c1\u30a7\u30c3\u30af\u3092\u5165\u308c\u3001<code>autoscaler_up.xml</code>\u3092\u9078\u629e\u3057Import\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002 \u540c\u69d8\u306b<code>autoscaler_down.xml</code>\u3082\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p></p>"},{"location":"inputs/zabbix/#media-types_2","title":"Media types\u306e\u8a2d\u5b9a","text":"<p>\u6b21\u306b\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u305fMedia types\u306e\u8a2d\u5b9a\u753b\u9762\u3092\u958b\u304d\u307e\u3059\u3002  </p> <p></p> <p>\u4ee5\u4e0b\u306e\u9805\u76ee\u3092\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u7de8\u96c6\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <ul> <li><code>autoscaler_endpoint</code>: Zabbix Inputs\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8</li> <li><code>autoscaler_source</code>: \u30ea\u30af\u30a8\u30b9\u30c8\u5143\u3092\u8b58\u5225\u3059\u308b\u305f\u3081\u306e\u540d\u79f0\u3002\u4efb\u610f\u306e\u5024\u3092\u5229\u7528\u53ef\u80fd\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u5024:<code>default</code></li> <li><code>autoscaler_resource_name</code>: \u64cd\u4f5c\u5bfe\u8c61\u306e\u30ea\u30bd\u30fc\u30b9\u306e\u540d\u524d\u3002Core\u306e\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u5b9a\u7fa9\u3057\u305f\u30ea\u30bd\u30fc\u30b9\u540d\u3092\u6307\u5b9a\u3059\u308b\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u5024:<code>default</code></li> <li><code>autoscaler_desired_state_name</code>: \u5e0c\u671b\u3059\u308b\u72b6\u614b\u306e\u540d\u524d\u3002Core\u306e\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u5b9a\u7fa9\u3057\u305f\u30d7\u30e9\u30f3\u540d\u3092\u6307\u5b9a\u3059\u308b\u3002\u7279\u5b9a\u306e\u6642\u523b\u306b\u7279\u5b9a\u306e\u30b9\u30da\u30c3\u30af\u306b\u3057\u305f\u3044\u5834\u5408\u306a\u3069\u306b\u5229\u7528\u3059\u308b\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u5024:<code>\"\"</code> </li> </ul>"},{"location":"inputs/zabbix/#media","title":"\u30e6\u30fc\u30b6\u30fc\u3078\u306eMedia\u306e\u8ffd\u52a0","text":"<p>\u6b21\u306b\u4efb\u610f\u306e\u30e6\u30fc\u30b6\u30fc\u306b\u5bfe\u3057\u5148\u7a0b\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u305fMedia type\u306eMedia\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002  </p> <p>\u7ba1\u7406\u753b\u9762\u304b\u3089\u4efb\u610f\u306e\u30e6\u30fc\u30b6\u30fc\u306e\u7de8\u96c6\u753b\u9762\u3092\u958b\u304d\u3001\u5148\u7a0b\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u305f2\u3064\u306eMedia\u3092\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002 <code>Send to</code>\u306f\u5fc5\u9808\u3067\u3059\u304cAutoScaler\u3067\u306f\u5229\u7528\u3057\u307e\u305b\u3093\u306e\u3067\u4efb\u610f\u306e\u5024\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p> <p></p> <p>\u5f8c\u306f\u4efb\u610f\u306e\u30a2\u30af\u30b7\u30e7\u30f3\u3067\u3001\u30a4\u30f3\u30dd\u30fc\u30c8\u3057\u305f2\u3064\u306eMedia types\u306e\u3044\u305a\u308c\u304b\u306b\u5bfe\u3057<code>Send Message</code>\u30aa\u30da\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002  </p> <p></p>"},{"location":"inputs/zabbix/#_2","title":"\u6ce8\u610f\u70b9","text":"<p>Zabbix Inputs\u306f\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u5bfe\u3057POST\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u3042\u3063\u305f\u3089\u51e6\u7406\u3092\u884c\u3044\u307e\u3059\u3002\u3053\u306e\u969b\u306b\u30ea\u30af\u30a8\u30b9\u30c8\u30dc\u30c7\u30a3\u306f\u8aad\u307e\u308c\u307e\u305b\u3093\u3002 \u5916\u90e8\u304b\u3089\u306f\u9694\u96e2\u3055\u308c\u305f\u76e3\u8996\u7528\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u3067\u8d77\u52d5\u3059\u308b\u306a\u3069\u3067\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306e\u4fdd\u8b77\u3092\u5225\u9014\u884c\u306a\u3063\u3066\u304f\u3060\u3055\u3044\u3002</p> <p>Zabbix Inputs\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306e\u4fdd\u8b77\u304c\u96e3\u3057\u3044\u5834\u5408\u306fZabbix\u306eRemote command\u3068Direct Inputs\u3092\u7d44\u307f\u5408\u308f\u305b\u308b\u65b9\u6cd5\u3082\u3054\u691c\u8a0e\u304f\u3060\u3055\u3044\u3002  </p>"},{"location":"tips/local_exec_handler/","title":"local-exec\u30cf\u30f3\u30c9\u30e9\u306e\u4f7f\u7528","text":""},{"location":"tips/local_exec_handler/#local-exec_1","title":"local-exec\u30cf\u30f3\u30c9\u30e9","text":"<p>\u30aa\u30fc\u30c8\u30b9\u30b1\u30fc\u30eb\u6642\u306b\u4efb\u610f\u306e\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u306a\u3069\u306e\u5b9f\u884c\u53ef\u80fd\u30d5\u30a1\u30a4\u30eb\u3067\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u3092\u884c\u3046\u305f\u3081\u306e\u30ab\u30b9\u30bf\u30e0\u30cf\u30f3\u30c9\u30e9\u3067\u3059\u3002  </p> <p>\u901a\u5e38\u3001\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb\u6642\u306b\u306fPacker\u306a\u3069\u3092\u7528\u3044\u3066\u30bd\u30fc\u30b9\u30a2\u30fc\u30ab\u30a4\u30d6\u3092\u3042\u3089\u304b\u3058\u3081\u4f5c\u6210\u3057\u3066\u304a\u304f\u65b9\u6cd5\u3001 \u307e\u305f\u306f\u30b9\u30bf\u30fc\u30c8\u30a2\u30c3\u30d7\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u5229\u7528\u3059\u308b\u3068\u3044\u3063\u305f\u65b9\u6cd5\u3067\u30b5\u30fc\u30d0\u306e\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u3092\u884c\u3044\u307e\u3059\u3002 local-exec\u30cf\u30f3\u30c9\u30e9\u306f\u3053\u308c\u3089\u306e\u65b9\u6cd5\u306b\u52a0\u3048\u3001\u4efb\u610f\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u7528\u3044\u3066\u3055\u307e\u3056\u307e\u306a\u30ea\u30bd\u30fc\u30b9\u306e\u30d7\u30ed\u30d3\u30b8\u30e7\u30cb\u30f3\u30b0\u3092\u884c\u3046\u305f\u3081\u306e\u624b\u6bb5\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002  </p>"},{"location":"tips/local_exec_handler/#_1","title":"\u5229\u7528\u65b9\u6cd5","text":""},{"location":"tips/local_exec_handler/#local-exec_2","title":"local-exec\u30cf\u30f3\u30c9\u30e9\u306e\u8d77\u52d5","text":"<p>Core\u3092\u8d77\u52d5\u3059\u308b\u524d\u306b\u3001\u4efb\u610f\u306e\u5b9f\u884c\u53ef\u80fd\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u3066local-exec\u30cf\u30f3\u30c9\u30e9\u3092\u8d77\u52d5\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002  </p>"},{"location":"tips/local_exec_handler/#_2","title":"\u5b9f\u884c\u53ef\u80fd\u30d5\u30a1\u30a4\u30eb\u306e\u4f8b","text":"<pre><code>#!/bin/bash\n\n# \u6a19\u6e96\u5165\u529b\u7d4c\u7531\u3067\u6e21\u3055\u308c\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u305d\u306e\u307e\u307e\u6a19\u6e96\u51fa\u529b\u306b\u66f8\u304d\u8fbc\u3080\ncat\n</code></pre>"},{"location":"tips/local_exec_handler/#local-exec_3","title":"local-exec\u30cf\u30f3\u30c9\u30e9\u306e\u8d77\u52d5\u4f8b","text":"<pre><code>$ autoscaler handlers local-exec --executable-path handler.sh --handler-type post-handle\n</code></pre>"},{"location":"tips/local_exec_handler/#_3","title":"\u30ab\u30b9\u30bf\u30e0\u30cf\u30f3\u30c9\u30e9\u3092\u5b9a\u7fa9","text":"<p>Core\u306e\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u3067\u30ab\u30b9\u30bf\u30e0\u30cf\u30f3\u30c9\u30e9\u3092\u5b9a\u7fa9\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002  </p> <pre><code>handlers:\n  - name: \"local-exec\" # \u4efb\u610f\u306e\u540d\u79f0\n    endpoint: \"unix:autoscaler-handlers-local-exec.sock\"\n</code></pre> <p>\u5b9a\u7fa9\u5f8c\u306f\u901a\u5e38\u901a\u308aCore\u3092\u8d77\u52d5\u3059\u308b\u3053\u3068\u3067\u30ab\u30b9\u30bf\u30e0\u30cf\u30f3\u30c9\u30e9\u304c\u5229\u7528\u53ef\u80fd\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002</p> <p>Tips</p> <p>\u30ab\u30b9\u30bf\u30e0\u30cf\u30f3\u30c9\u30e9\u3092\u5b9a\u7fa9\u3057\u305f\u5834\u5408\u3001Core\u306e\u8d77\u52d5\u6642\u306b\u30ab\u30b9\u30bf\u30e0\u30cf\u30f3\u30c9\u30e9\u3068\u306e\u758e\u901a\u78ba\u8a8d\u304c\u884c\u308f\u308c\u307e\u3059\u3002 \u3053\u306e\u305f\u3081\u3001Core\u3092\u8d77\u52d5\u3059\u308b\u3088\u308a\u524d\u306b\u30ab\u30b9\u30bf\u30e0\u30cf\u30f3\u30c9\u30e9\u3092\u8d77\u52d5\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p>"},{"location":"tips/local_exec_handler/#_4","title":"\u4ed5\u69d8","text":""},{"location":"tips/local_exec_handler/#_5","title":"\u5b9f\u884c\u53ef\u80fd\u30d5\u30a1\u30a4\u30eb","text":"<p>local-exec\u30cf\u30f3\u30c9\u30e9\u306e\u5b50\u30d7\u30ed\u30bb\u30b9\u3068\u3057\u3066\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002 \u5b9f\u884c\u53ef\u80fd\u30d5\u30a1\u30a4\u30eb\u306b\u306flocal-exec\u30cf\u30f3\u30c9\u30e9\u306e\u5b9f\u884c\u30e6\u30fc\u30b6\u30fc\u304c\u5b9f\u884c\u53ef\u80fd\u306a\u3088\u3046\u306b\u9069\u5207\u306a\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u3092\u8a2d\u5b9a\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002</p> <p>\u4f8b: <pre><code>$ chmod +x handler.sh\n</code></pre></p>"},{"location":"tips/local_exec_handler/#local-execcli","title":"local-exec\u30cf\u30f3\u30c9\u30e9CLI","text":"<p>AutoScaler\u306eCLI\u306b\u30d3\u30eb\u30c8\u30a4\u30f3\u3055\u308c\u3066\u3044\u307e\u3059\u3002  </p> <pre><code>$ autoscaler handlers local-exec -h\n\nHandler for executing a shell script\n\nUsage:\n  autoscaler handlers local-exec [flags]... {path/to/your/executable}\n\nFlags:\n      --addr string              the address for the server to listen on (default \"unix:autoscaler-handlers-local-exec.sock\")\n      --config string            Filepath to Handlers additional configuration file\n      --executable-path string   Path to the executable\n      --handler-type string      Handler type name\n  -h, --help                     help for local-exec\n\nGlobal Flags:\n      --log-format string   Format of logging to be output. options: [ logfmt | json ] (default \"logfmt\")\n      --log-level string    Level of logging to be output. options: [ error | warn | info | debug ] (default \"info\")\n</code></pre>"},{"location":"tips/local_exec_handler/#-handler-type","title":"<code>--handler-type</code>\u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u3064\u3044\u3066","text":"<p>\u3069\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067\u5b9f\u884c\u3059\u308b\u306e\u304b\u3092\u5236\u5fa1\u3059\u308b\u305f\u3081\u306e\u3082\u306e\u3067\u3059\u3002\u4ee5\u4e0b\u306e\u5024\u304c\u6307\u5b9a\u53ef\u80fd\u3067\u3059\u3002</p> <ul> <li><code>pre-handle</code>: \u30ea\u30bd\u30fc\u30b9\u64cd\u4f5c\u524d\u306b\u5b9f\u884c\u3055\u308c\u308b\u3002\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u3057\u3066HandleRequest\u304c\u6e21\u3055\u308c\u308b\u3002</li> <li><code>handle</code>: \u30ea\u30bd\u30fc\u30b9\u64cd\u4f5c\u6642\u306b\u5b9f\u884c\u3055\u308c\u308b\u3002\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u3057\u3066HandleRequest\u304c\u6e21\u3055\u308c\u308b\u3002</li> <li><code>post-handle</code>: \u30ea\u30bd\u30fc\u30b9\u306e\u64cd\u4f5c\u5f8c\u306b\u5b9f\u884c\u3055\u308c\u308b\u3002\u30d1\u30e9\u30e1\u30fc\u30bf\u3068\u3057\u3066PostHandleRequest\u304c\u6e21\u3055\u308c\u308b\u3002</li> </ul>"},{"location":"tips/local_exec_handler/#_6","title":"\u5165\u51fa\u529b","text":""},{"location":"tips/local_exec_handler/#_7","title":"\u5165\u529b","text":"<p>\u5b9f\u884c\u6642\u306b\u306f\u6a19\u6e96\u5165\u529b\u7d4c\u7531\u3067\u51e6\u7406\u5bfe\u8c61\u306e\u30ea\u30bd\u30fc\u30b9\u306b\u3064\u3044\u3066\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u6e21\u3055\u308c\u307e\u3059\u3002  </p>"},{"location":"tips/local_exec_handler/#_8","title":"\u6a19\u6e96\u5165\u529b\u7d4c\u7531\u3067\u6e21\u3055\u308c\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u4f8b","text":"<pre><code># PostHandleRequest\u306e\u4f8b\n{\n  \"source\": \"example\",\n  \"resource_name\": \"example\",\n  \"scaling_job_id\": \"example\",\n  \"result\": 1, \n  \"current\": {\n    \"Resource\": ...\n  }\n}\n</code></pre> <p>\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u66f8\u5f0f\u306f\u30cf\u30f3\u30c9\u30e9\u5411\u3051\u306eproto\u30d5\u30a1\u30a4\u30eb\u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b<code>HandleRequest</code>\u3001\u307e\u305f\u306f<code>PostHandleRequest</code>\u3092JSON\u306b\u5909\u63db\u3057\u305f\u3082\u306e\u3067\u3059\u3002</p> <ul> <li>proto\u30d5\u30a1\u30a4\u30eb: https://github.com/sacloud/autoscaler/blob/main/protos/handler.proto</li> <li>HandleRequest/PostHandleRequest\u306e\u5b9a\u7fa9(go): https://github.com/sacloud/autoscaler/blob/main/handler/handler.pb.go</li> </ul>"},{"location":"tips/local_exec_handler/#_9","title":"\u51fa\u529b","text":"<p>\u6a19\u6e96\u51fa\u529b\u306b\u66f8\u304d\u8fbc\u3080\u3068Core\u3068local-exec\u30cf\u30f3\u30c9\u30e9\u306e\u30ed\u30b0\u306b\u51fa\u529b\u3055\u308c\u307e\u3059\u3002 \u6a19\u6e96\u30a8\u30e9\u30fc\u3078\u306e\u66f8\u304d\u8fbc\u307f\u306f\u7121\u8996\u3055\u308c\u307e\u3059\u3002  </p>"},{"location":"tips/local_exec_handler/#_10","title":"\u6a19\u6e96\u5165\u529b\u7d4c\u7531\u3067\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u8aad\u307f\u53d6\u308b\u4f8b:","text":"<p>\u4ee5\u4e0b\u306e\u4f8b\u306fPostHandle\u306e\u30bf\u30a4\u30df\u30f3\u30b0\u3067Terraform\u306e\u30b9\u30c6\u30fc\u30c8\u30d5\u30a1\u30a4\u30eb\u3092\u66f4\u65b0\u3059\u308b\u3082\u306e\u3067\u3059\u3002 \u5165\u529b\u3055\u308c\u308bJSON\u306e<code>.result</code>\u30d5\u30a3\u30fc\u30eb\u30c9\u304c<code>1</code>(CREATED) or <code>2</code>(UPDATED) or <code>3</code>(DELETED)\u306e\u3044\u305a\u308c\u304b\u3067\u3042\u308b\u304b\u3092jq\u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u5224\u5b9a\u3057\u307e\u3059\u3002  </p> <pre><code>#!/bin/bash\n\n# CREATED/UPDATED/DELETED\u306e\u5834\u5408\u306fterraform\u306e\u30b9\u30c6\u30fc\u30c8\u3092\u30ea\u30d5\u30ec\u30c3\u30b7\u30e5\u3059\u308b\nSHOULD_HANDLE=$(jq '[.] | any(.result == 1 or .result == 2 or .result == 3)')\n\nif [ \"$SHOULD_HANDLE\" == \"true\" ]; then\n  WORKING_DIR=$(cd $(dirname $0); pwd)\n  terraform -chdir=\"$WORKING_DIR\" apply -refresh-only -auto-approve 2&gt;&amp;1 1&gt; /dev/null\n  exit $?\nelse\n  echo \"ignored\"\n  exit 0\nfi\n</code></pre>"},{"location":"tips/named_plan/","title":"\u540d\u524d\u4ed8\u304d\u30d7\u30e9\u30f3","text":""},{"location":"tips/named_plan/#_1","title":"\u540d\u524d\u4ed8\u304d\u30d7\u30e9\u30f3","text":"<p>ELB/\u30eb\u30fc\u30bf/\u30b5\u30fc\u30d0/\u30b5\u30fc\u30d0\u30b0\u30eb\u30fc\u30d7\u3067\u306f\u540d\u524d\u4ed8\u304d\u30d7\u30e9\u30f3\u3092\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002</p> <pre><code># \u30b5\u30fc\u30d0\u306e\u3067\u306e\u540d\u524d\u4ed8\u304d\u30d7\u30e9\u30f3\u306e\u4f8b\nplans:\n  - core: 2\n    memory: 4\n    name: \"low\"\n  - core: 4\n    memory: 8\n  - core: 4\n    memory: 16\n    name: \"medium\"\n  - core: 8\n    memory: 16\n  - core: 10\n    memory: 24\n    name: \"high\"\n  - core: 10\n    memory: 32\n  - core: 10\n    memory: 48\n</code></pre> <p>\u30d7\u30e9\u30f3\u540d\u306fInputs\u304b\u3089\u306e<code>DesiredStateName</code>\u30d1\u30e9\u30e1\u30fc\u30bf\u3067\u6307\u5b9a\u3055\u308c\u307e\u3059\u3002 Core\u306f<code>DesiredStateName</code>\u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3042\u308b\u3079\u304d\u59ff\u3092\u7b97\u51fa\u3057\u307e\u3059\u3002</p> <ul> <li> <p>Up\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u304d\u305f\u5834\u5408\u3001\u73fe\u5728\u306e\u30ea\u30bd\u30fc\u30b9\u306e\u30d7\u30e9\u30f3\u3088\u308a\u5927\u304d\u306a\u540d\u524d\u4ed8\u304d\u30d7\u30e9\u30f3\u3092\u8fd4\u3059   \u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u5834\u5408\u306f\u30d7\u30e9\u30f3\u5909\u66f4\u305b\u305a\u30a8\u30e9\u30fc\u3068\u3059\u308b</p> </li> <li> <p>Down\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u304d\u305f\u5834\u5408\u3001\u73fe\u5728\u306e\u30ea\u30bd\u30fc\u30b9\u306e\u30d7\u30e9\u30f3\u3088\u308a\u5c0f\u3055\u306a\u540d\u524d\u4ed8\u304d\u30d7\u30e9\u30f3\u3092\u8fd4\u3059   \u898b\u3064\u304b\u3089\u306a\u304b\u3063\u305f\u5834\u5408\u306f\u30d7\u30e9\u30f3\u5909\u66f4\u305b\u305a\u30a8\u30e9\u30fc\u3068\u3059\u308b</p> </li> </ul>"},{"location":"tips/server_plans/","title":"\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb\u6642\u306e\u30b5\u30fc\u30d0\u30fc\u30d7\u30e9\u30f3","text":""},{"location":"tips/server_plans/#_1","title":"\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb\u6642\u306e\u30b5\u30fc\u30d0\u30fc\u30d7\u30e9\u30f3\u306e\u6307\u5b9a\u4f8b","text":""},{"location":"tips/server_plans/#_2","title":"\u901a\u5e38\u30d7\u30e9\u30f3","text":"<pre><code>resources:\n  - type: ServerGroup\n\n    # ...\u4e2d\u7565...\n\n    template: \n      # ...\u4e2d\u7565...\n\n      plan:\n        core: 2\n        memory: 4\n</code></pre>"},{"location":"tips/server_plans/#intel-xeon-processor","title":"\u30b3\u30a2\u5360\u6709\u30d7\u30e9\u30f3: Intel\u00ae Xeon\u00ae Processor","text":"<pre><code>resources:\n  - type: ServerGroup\n\n    # ...\u4e2d\u7565...\n\n    template:\n      # ...\u4e2d\u7565...\n\n      plan:\n        core: 2\n        memory: 4\n        dedicated_cpu: true\n</code></pre>"},{"location":"tips/server_plans/#amd-epyctm-7003-series-processor","title":"\u30b3\u30a2\u5360\u6709\u30d7\u30e9\u30f3: AMD EPYC\u2122 7003 Series Processor","text":"<pre><code>resources:\n  - type: ServerGroup\n    zones: [\"is1b\"]\n\n    # ...\u4e2d\u7565...\n\n    template:\n      # ...\u4e2d\u7565...\n\n      plan:\n        core: 32\n        memory: 120\n        dedicated_cpu: true\n        cpu_model: amd_epyc_7713p\n</code></pre>"},{"location":"tips/server_plans/#gpu","title":"GPU\u30d7\u30e9\u30f3","text":"<pre><code>resources:\n  - type: ServerGroup\n    zones: [\"is1a\"]\n\n    # ...\u4e2d\u7565...\n\n    template:\n      # ...\u4e2d\u7565...\n\n      plan:\n        core: 4\n        memory: 56\n        gpu: 1\n</code></pre>"},{"location":"tips/strict_mode/","title":"\u5171\u6709\u30b5\u30fc\u30d0\u4e0a\u3067\u306e\u5b9f\u884c(strict\u30e2\u30fc\u30c9)","text":""},{"location":"tips/strict_mode/#strict","title":"\u5171\u6709\u30b5\u30fc\u30d0\u3067\u306e\u5b9f\u884c(strict\u30e2\u30fc\u30c9)","text":"<p>\u5171\u6709\u30b5\u30fc\u30d0\u3084\u30de\u30eb\u30c1\u30c6\u30ca\u30f3\u30c8\u3067\u7a3c\u50cd\u3055\u305b\u308b\u5834\u5408\u306a\u3069\u306eAutoScaler\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3092\u540c\u4e00\u74b0\u5883\u3067\u8907\u6570\u7a3c\u50cd\u3055\u305b\u308b\u74b0\u5883\u306b\u304a\u3044\u3066\u3001 \u5916\u90e8\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3092\u5236\u9650\u3059\u308b<code>strict\u30e2\u30fc\u30c9</code>\u3092\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002  </p> <p>Warning</p> <p>strict\u30e2\u30fc\u30c9\u306f\u5168\u3066\u306e\u5916\u90e8\u30d5\u30a1\u30a4\u30eb\u30a2\u30af\u30bb\u30b9\u3092\u5236\u9650\u3059\u308b\u3082\u306e\u3067\u306f\u306a\u304f\u3001 \u7279\u5b9a\u306e\u30d5\u30a1\u30a4\u30eb\u30a2\u30af\u30bb\u30b9\u30d1\u30bf\u30fc\u30f3\u3092\u7121\u52b9\u306b\u3059\u308b\u3082\u306e\u3067\u3059\u3002 \u5fc5\u8981\u306b\u5fdc\u3058\u3066\u5b9f\u884c\u30e6\u30fc\u30b6\u30fc\u306b\u9069\u5207\u306a\u6a29\u9650\u3060\u3051\u4ed8\u4e0e\u3059\u308b\u3068\u3044\u3063\u305f\u5bfe\u5fdc\u306a\u3069\u3068\u7d44\u307f\u5408\u308f\u305b\u3066\u3054\u5229\u7528\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"tips/strict_mode/#_1","title":"\u5229\u7528\u65b9\u6cd5","text":"<p>Core\u306e\u8d77\u52d5\u6642\u306b<code>--strict</code>\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067strict\u30e2\u30fc\u30c9\u304c\u6709\u52b9\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>$ autoscaler start --strict\n</code></pre>"},{"location":"tips/strict_mode/#strict_1","title":"strict\u30e2\u30fc\u30c9\u3067\u5236\u9650\u3055\u308c\u308b\u3082\u306e","text":"<p>\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u4ee5\u4e0b\u9805\u76ee\u306e\u6319\u52d5\u304c\u5909\u66f4\u3055\u308c\u307e\u3059\u3002</p> <ul> <li><code>handlers</code>: \u6307\u5b9a\u4e0d\u53ef</li> <li><code>autoscaler.exporter</code>: \u6307\u5b9a\u4e0d\u53ef</li> <li><code>sakuracloud.profile</code>: \u6307\u5b9a\u4e0d\u53ef</li> <li>\u6587\u5b57\u5217\u307e\u305f\u306f\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9\u3092\u6307\u5b9a\u53ef\u80fd\u306a\u9805\u76ee: \u6587\u5b57\u5217\u306e\u307f\u6307\u5b9a\u53ef\u80fd<ul> <li>\u30b5\u30fc\u30d0\u30b0\u30eb\u30fc\u30d7<ul> <li><code>template</code><ul> <li><code>edit_parameter</code><ul> <li><code>startup_scripts</code> </li> <li><code>ssh_keys</code></li> </ul> </li> <li><code>cloud_config</code></li> </ul> </li> </ul> </li> </ul> </li> </ul> <p>Info</p> <p>libsacloud\u306e\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u6a5f\u80fd\u304c\u7121\u52b9\u306b\u306a\u308b\u305f\u3081\u3001\u74b0\u5883\u5909\u6570<code>SAKURACLOUD_PROFILE</code>\u3084<code>USACLOUD_PROFILE</code>\u3092\u6307\u5b9a\u3057\u3066\u3082\u7121\u8996\u3055\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3059</p>"},{"location":"tips/terraform/","title":"Terraform\u3068\u306e\u76f8\u4e92\u904b\u7528","text":"<p>sacloud/autoscaler\u306fTerraform\u3068\u306e\u76f8\u4e92\u904b\u7528\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002 \u3053\u308c\u306b\u3088\u308a\u3001\u30ea\u30bd\u30fc\u30b9\u3092Terraform\u3067\u4f5c\u6210/\u7ba1\u7406\u3057\u3064\u3064\u30aa\u30fc\u30c8\u30b9\u30b1\u30fc\u30eb\u306e\u5bfe\u8c61\u306b\u3067\u304d\u307e\u3059\u3002  </p> <p>\u69cb\u6210\u4f8b\u306fexamples/terraform\u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002</p>"},{"location":"upgrade/v0.10/","title":"v0.10\u3078\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9","text":""},{"location":"upgrade/v0.10/#_1","title":"\u4e3b\u306a\u5909\u66f4\u4e00\u89a7","text":"<ul> <li>\u30b0\u30eb\u30fc\u30d7\u30bf\u30b0\u306b\u3088\u308b\u30db\u30b9\u30c8\u5206\u6563</li> </ul>"},{"location":"upgrade/v0.10/#diff1","title":"\u30b0\u30eb\u30fc\u30d7\u30bf\u30b0\u306b\u3088\u308b\u30db\u30b9\u30c8\u5206\u6563","text":"<p>Pull Request:  </p> <ul> <li>https://github.com/sacloud/autoscaler/pull/406 </li> </ul> <p>\u7279\u6b8a\u30bf\u30b0@group\u3092\u7528\u3044\u3066\u30db\u30b9\u30c8\u3092\u5206\u6563\u3055\u305b\u308b\u6a5f\u80fd\u304c\u5229\u7528\u53ef\u80fd\u306b\u306a\u308a\u307e\u3057\u305f\u3002</p> <ul> <li>ServerGroup\u306etemplate.use_group_tag\u306btrue\u3092\u8a2d\u5b9a\u3059\u308b\u3068\u6709\u52b9\u306b\u306a\u308a\u307e\u3059</li> <li>\u540c\u4e00\u30be\u30fc\u30f3\u306e\u30b5\u30fc\u30d0\u306b\u5bfe\u3057\u9806\u756a\u306b@group=a\u304b\u3089@group=d\u3092\u5272\u308a\u5f53\u3066\u307e\u3059</li> <li>\u30b5\u30fc\u30d0\u304c\u65e2\u306b@group=*\u30bf\u30b0\u3092\u6301\u3063\u3066\u3044\u305f\u3089\u8a72\u5f53\u30b5\u30fc\u30d0\u3078\u306e\u30b0\u30eb\u30fc\u30d7\u30bf\u30b0\u4ed8\u4e0e\u306f\u884c\u3044\u307e\u305b\u3093</li> </ul> <p>\u5229\u7528\u4f8b: <pre><code>resources:\n  - type: ServerGroup\n    name: \"example\"\n    server_name_prefix: \"example\"\n\n    min_size: 0\n    max_size: 10\n\n    zones: [\"is1a\", \"is1b\"]\n\n    template:\n      use_group_tag: true\n\n    # \u4ee5\u4e0b\u7565\n</code></pre></p>"},{"location":"upgrade/v0.11/","title":"v0.11\u3078\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9","text":""},{"location":"upgrade/v0.11/#_1","title":"\u4e3b\u306a\u5909\u66f4\u4e00\u89a7","text":"<ul> <li>os_type\u66f4\u65b0</li> </ul>"},{"location":"upgrade/v0.11/#diff1","title":"os_type\u66f4\u65b0","text":"<p>Pull Request:  </p> <ul> <li>https://github.com/sacloud/autoscaler/pull/417 </li> </ul> <p>ServerGroup\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u306e<code>os_type</code>\u306b\u6307\u5b9a\u53ef\u80fd\u306a\u5024\u304c\u66f4\u65b0\u3055\u308c\u307e\u3057\u305f\u3002</p> <p>\u8a73\u7d30: https://github.com/sacloud/iaas-api-go/pull/113</p>"},{"location":"upgrade/v0.12/","title":"v0.12\u3078\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9","text":""},{"location":"upgrade/v0.12/#_1","title":"\u4e3b\u306a\u5909\u66f4\u4e00\u89a7","text":"<ul> <li><code>autoscaler validate</code>\u30b3\u30de\u30f3\u30c9\u3067\u306e\u623b\u308a\u5024\u5909\u66f4</li> </ul>"},{"location":"upgrade/v0.12/#diff1","title":"<code>autoscaler validate</code>\u30b3\u30de\u30f3\u30c9\u3067\u306e\u623b\u308a\u5024\u5909\u66f4","text":"<p>Pull Request:  </p> <ul> <li>https://github.com/sacloud/autoscaler/pull/446 </li> </ul> <p><code>autoscaler validate</code>\u306b\u3066\u30a8\u30e9\u30fc\u539f\u56e0\u306b\u5fdc\u3058\u3066\u7d42\u4e86\u30b3\u30fc\u30c9\u3092\u51fa\u3057\u5206\u3051\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002</p> <ul> <li>autoscaler\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u8d77\u56e0\u306e\u30a8\u30e9\u30fc\u306e\u5834\u5408: 65</li> <li>\u4ee5\u5916\u306e\u30a8\u30e9\u30fc\u306e\u5834\u5408: 1</li> </ul>"},{"location":"upgrade/v0.13/","title":"v0.13\u3078\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9","text":""},{"location":"upgrade/v0.13/#_1","title":"\u4e3b\u306a\u5909\u66f4\u4e00\u89a7","text":"<ul> <li>cooldown\u30d1\u30e9\u30e1\u30fc\u30bf\u3092up/down\u3067\u5206\u96e2</li> </ul>"},{"location":"upgrade/v0.13/#diff1","title":"cooldown\u30d1\u30e9\u30e1\u30fc\u30bf\u3092up/down\u3067\u5206\u96e2","text":"<p>Pull Request:  </p> <ul> <li>https://github.com/sacloud/autoscaler/pull/473 </li> </ul> <p>cooldown\u30d1\u30e9\u30e1\u30fc\u30bf\u3092up\u5411\u3051\u3068down\u5411\u3051\u305d\u308c\u305e\u308c\u3067\u6307\u5b9a\u53ef\u80fd\u306b\u306a\u308a\u307e\u3057\u305f\u3002</p> <p>\u5229\u7528\u4f8b: <pre><code>autoscaler:\n  cooldown:\n    up: 600\n    down: 600\n</code></pre></p>"},{"location":"upgrade/v0.14/","title":"v0.14\u3078\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9","text":""},{"location":"upgrade/v0.14/#_1","title":"\u4e3b\u306a\u5909\u66f4\u4e00\u89a7","text":"<ul> <li>cooldown\u306e\u57fa\u6e96\u3068\u3057\u3066\u5404\u30ea\u30bd\u30fc\u30b9\u306eModifiedAt\u3092\u7528\u3044\u308b</li> </ul>"},{"location":"upgrade/v0.14/#diff1","title":"cooldown\u306e\u57fa\u6e96\u3068\u3057\u3066\u5404\u30ea\u30bd\u30fc\u30b9\u306eModifiedAt\u3092\u7528\u3044\u308b","text":"<p>Pull Request:  </p> <ul> <li>https://github.com/sacloud/autoscaler/pull/475 </li> </ul> <p>cooldown\u306e\u57fa\u6e96\u304c\u524d\u56de\u306eup/down\u5b9f\u884c\u65e5\u6642\u304b\u3089\u5bfe\u8c61\u30ea\u30bd\u30fc\u30b9(\u7fa4)\u306e\u66f4\u65b0\u65e5\u6642\u306b\u5909\u66f4\u3055\u308c\u307e\u3057\u305f\u3002 \u3053\u306e\u5909\u66f4\u306b\u3088\u308b\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u306e\u5909\u66f4\u306f\u4e0d\u8981\u3067\u3059\u3002</p>"},{"location":"upgrade/v0.15/","title":"v0.15\u3078\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9","text":""},{"location":"upgrade/v0.15/#_1","title":"\u4e3b\u306a\u5909\u66f4\u4e00\u89a7","text":"<ul> <li>inputs: direct\u3067\u306e\u540c\u671f\u30e2\u30fc\u30c9\u306e\u30b5\u30dd\u30fc\u30c8</li> </ul>"},{"location":"upgrade/v0.15/#diff1","title":"inputs: direct\u3067\u306e\u540c\u671f\u30e2\u30fc\u30c9\u306e\u30b5\u30dd\u30fc\u30c8","text":"<p>Pull Request:  </p> <ul> <li>https://github.com/sacloud/autoscaler/pull/492</li> <li>https://github.com/sacloud/autoscaler/pull/492 </li> </ul> <p><code>autoscaler inputs direct</code>\u30b3\u30de\u30f3\u30c9\u306b\u304a\u3044\u3066<code>--sync</code>\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u540c\u671f\u30e2\u30fc\u30c9\u3092\u5229\u7528\u53ef\u80fd\u306b\u306a\u308a\u307e\u3057\u305f\u3002  \u540c\u671f\u30e2\u30fc\u30c9\u3067\u306fCore\u306b\u5bfe\u3057Up or Down\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u6295\u3052\u308b\u3068\u3001\u7d50\u679c\u304c\u8fd4\u3063\u3066\u304f\u308b\u307e\u3067\u5f85\u6a5f\u3057\u307e\u3059\u3002 \u3053\u308c\u306b\u3088\u308a\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u7d50\u679c\u3067\u51e6\u7406\u3092\u5206\u5c90\u3055\u305b\u308b\u3088\u3046\u306a\u30b1\u30fc\u30b9\u306b\u5bfe\u5fdc\u51fa\u6765\u307e\u3059\u3002  </p> <p><code>--sync</code>\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3044\u305a\u308c\u304b\u306e\u7d42\u4e86\u30b3\u30fc\u30c9\u3092\u8fd4\u3057\u307e\u3059\u3002</p> <ul> <li><code>0</code>: \u6b63\u5e38\u7d42\u4e86(JOB_DONE)\u306e\u5834\u5408</li> <li><code>1</code>: \u4f55\u3089\u304b\u306e\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u305f\u5834\u5408</li> <li><code>129</code>: up/down\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u53d7\u3051\u53d6\u3063\u305f\u304c\u51e6\u7406\u306a\u3057(JOB_DONE_NOOP)\u306e\u5834\u5408</li> <li><code>130</code>: up/down\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u53d7\u3051\u5165\u308c\u3089\u308c\u306a\u3044\u72b6\u614b\u306e\u5834\u5408(\u51e6\u7406\u306e\u5b9f\u884c\u4e2d\u3084cooldown\u671f\u9593\u4e2d\u3001\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u4e2d\u306e\u5834\u5408\u306a\u3069)</li> </ul>"},{"location":"upgrade/v0.5/","title":"v0.5\u4ee5\u524d\u304b\u3089\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9","text":""},{"location":"upgrade/v0.5/#_1","title":"\u4e3b\u306a\u5909\u66f4\u4e00\u89a7","text":"<ul> <li>\u30b3\u30de\u30f3\u30c9\u4f53\u7cfb\u306e\u5909\u66f4</li> <li>\u89aa\u5b50\u30ea\u30bd\u30fc\u30b9\u306e\u5b9a\u7fa9\u65b9\u6cd5\u306e\u5909\u66f4</li> <li>\u30bb\u30ec\u30af\u30bf\u306e\u7701\u7565\u8a18\u6cd5</li> </ul>"},{"location":"upgrade/v0.5/#diff1","title":"\u30b3\u30de\u30f3\u30c9\u4f53\u7cfb\u306e\u5909\u66f4","text":"<p>v0.5\u4ee5\u524d\u306f<code>autoscaler core start</code>\u3084<code>autoscaler core validate</code>\u306e\u3088\u3046\u306b<code>core</code>\u30b5\u30d6\u30b3\u30de\u30f3\u30c9\u914d\u4e0b\u306bCore\u306e\u4e3b\u8981\u30b3\u30de\u30f3\u30c9\u3092\u914d\u7f6e\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001 v0.5\u3067\u306f<code>autoscaler</code>\u76f4\u4e0b\u306b\u5404\u30b5\u30d6\u30b3\u30de\u30f3\u30c9\u304c\u914d\u7f6e\u3055\u308c\u307e\u3057\u305f\u3002</p> <pre><code>$ autoscaler -h\n\nautoscaler is a tool for managing the scale of resources on SAKURA cloud\n\nUsage:\n  autoscaler [command]\n\nAvailable Commands:\n  completion  Generate completion script\n  example     show configuration example\n  handlers    A set of sub commands to manage autoscaler's external handlers\n  help        Help about any command\n  inputs      A set of sub commands to manage autoscaler's inputs\n  resources   list target resources\n  start       start autoscaler's core server\n  validate    validate autoscaler's core configuration\n  version     show version\n</code></pre> <p>\u5f93\u6765\u306e<code>core</code>\u30b5\u30d6\u30b3\u30de\u30f3\u30c9\u306f\u5f15\u304d\u7d9a\u304d\u5229\u7528\u53ef\u80fd\u3067\u3059\u304cv1.0\u30ea\u30ea\u30fc\u30b9\u6642\u306b\u524a\u9664\u3055\u308c\u308b\u4e88\u5b9a\u3067\u3059\u3002</p>"},{"location":"upgrade/v0.5/#diff2","title":"\u89aa\u5b50\u30ea\u30bd\u30fc\u30b9\u306e\u5b9a\u7fa9\u65b9\u6cd5\u306e\u5909\u66f4","text":"<p>v0.5\u3067\u306f\u89aa\u5b50\u30ea\u30bd\u30fc\u30b9\u306e\u5b9a\u7fa9\u65b9\u6cd5\u304c\u5909\u66f4\u3055\u308c\u307e\u3057\u305f\u3002</p>"},{"location":"upgrade/v0.5/#v05_1","title":"v0.5\u4ee5\u524d","text":"<pre><code>resources:\n  - type: ELB\n    name: \"elb\" \n    selector:\n      names: [\"example\"]\n    resources:\n    - type: ServerGroup\n      name: \"server-group\" \n      zone: \"is1a\"\n</code></pre>"},{"location":"upgrade/v0.5/#v05_2","title":"v0.5\u301c","text":"<pre><code>resources:\n  - type: ServerGroup\n    name: \"server-group\" \n    zone: \"is1a\"\n\n    # \u89aa\u30ea\u30bd\u30fc\u30b9\u306e\u5b9a\u7fa9\n    parent:\n      type: ELB\n      selector:\n        names: [\"example\"]\n</code></pre> <p>\u5f93\u6765\u306f\u89aa\u30ea\u30bd\u30fc\u30b9\u5074\u306e<code>resources</code>\u30d5\u30a3\u30fc\u30eb\u30c9\u3067\u5b50\u30ea\u30bd\u30fc\u30b9\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001 v0.5\u4ee5\u964d\u306f\u5b50\u30ea\u30bd\u30fc\u30b9\u5074\u306e<code>parent</code>\u30d5\u30a3\u30fc\u30eb\u30c9\u3067\u89aa\u30ea\u30bd\u30fc\u30b9\u3092\u5b9a\u7fa9\u3059\u308b\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002</p>"},{"location":"upgrade/v0.5/#diff3","title":"\u30bb\u30ec\u30af\u30bf\u306e\u7701\u7565\u8a18\u6cd5","text":"<p>\u4e00\u90e8\u306e\u30bb\u30ec\u30af\u30bf\u306b\u304a\u3044\u3066\u7701\u7565\u8a18\u6cd5\u306b\u5bfe\u5fdc\u3057\u307e\u3057\u305f\u3002</p> <pre><code>parent:\n  type: ELB\n  selector: \"example\" #\u7701\u7565\u8a18\u6cd5\n</code></pre> <p><code>selector</code>\u306b\u6587\u5b57\u5217\u3092\u6307\u5b9a\u3059\u308b\u3068<code>names</code>\u306b\u5358\u4e00\u8981\u7d20\u306e\u30ea\u30b9\u30c8\u3092\u6307\u5b9a\u3059\u308b\u306e\u3068\u540c\u7b49\u306e\u610f\u5473\u5408\u3044\u306b\u306a\u308a\u307e\u3059\u3002</p> <pre><code>parent:\n  type: ELB\n\n  # \u5148\u307b\u3069\u306e\u4f8b\u3068\u540c\u7b49\u306e\u6307\u5b9a\u3092\u7701\u7565\u305b\u305a\u306b\u66f8\u3044\u305f\u5834\u5408\n  selector:\n    names: [\"example\"]\n</code></pre> <p>\u3053\u306e\u7701\u7565\u8a18\u6cd5\u306f\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9\u3067<code>name_or_resource_selector</code>\u578b\u3068\u306a\u3063\u3066\u3044\u308b\u9805\u76ee\u3067\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002</p>"},{"location":"upgrade/v0.6/","title":"v0.6\u3078\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9","text":""},{"location":"upgrade/v0.6/#_1","title":"\u4e3b\u306a\u5909\u66f4\u4e00\u89a7","text":"<ul> <li>\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u5b8c\u4e86\u307e\u3067\u306e\u7336\u4e88\u6642\u9593(setup_grace_period)\u3092\u6307\u5b9a\u3059\u308b\u6a5f\u80fd</li> </ul>"},{"location":"upgrade/v0.6/#diff1","title":"\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u5b8c\u4e86\u307e\u3067\u306e\u7336\u4e88\u6642\u9593(setup_grace_period)\u3092\u6307\u5b9a\u3059\u308b\u6a5f\u80fd","text":"<p>Pull Request: https://github.com/sacloud/autoscaler/pull/318  </p> <p>\u30b5\u30fc\u30d0\u306e\u96fb\u6e90\u304cON\u306b\u306a\u3063\u3066\u304b\u3089\u30b5\u30fc\u30d3\u30b9\u30a4\u30f3\u51fa\u6765\u308b\u3088\u3046\u306b\u306a\u308b\u307e\u3067\u306e\u7336\u4e88\u6642\u9593<code>setup_grace_period</code>\u3092\u6307\u5b9a\u53ef\u80fd\u306b\u306a\u308a\u307e\u3057\u305f\u3002</p>"},{"location":"upgrade/v0.7/","title":"v0.7\u3078\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9","text":""},{"location":"upgrade/v0.7/#_1","title":"\u4e3b\u306a\u5909\u66f4\u4e00\u89a7","text":"<ul> <li>\u30b7\u30b0\u30ca\u30eb\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u306e\u6539\u5584(v0.7.3)/\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u7336\u4e88\u6642\u9593\u306e\u8ffd\u52a0(v0.7.3)</li> </ul>"},{"location":"upgrade/v0.7/#diff1","title":"\u30b7\u30b0\u30ca\u30eb\u30cf\u30f3\u30c9\u30ea\u30f3\u30b0\u306e\u6539\u5584(v0.7.3)/\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u7336\u4e88\u6642\u9593\u306e\u8ffd\u52a0(v0.7.3)","text":"<p>Pull Request:  </p> <ul> <li>https://github.com/sacloud/autoscaler/pull/384 </li> <li>https://github.com/sacloud/autoscaler/pull/385 </li> </ul> <p>SIGINT\u307e\u305f\u306fSIGTERM\u3092\u53d7\u3051\u53d6\u3063\u305f\u969b\u306bUp/Down\u306e\u51e6\u7406\u4e2d\u3060\u3063\u305f\u5834\u5408\u306b\u306f\u51e6\u7406\u304c\u7d42\u308f\u308b\u307e\u3067\u5f85\u3064\u3088\u3046\u306b\u306a\u308a\u307e\u3057\u305f\u3002 \u307e\u305f\u3001\u305d\u306e\u969b\u306b\u5f85\u3064\u6642\u9593(\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u7336\u4e88\u6642\u9593)\u3092\u6307\u5b9a\u53ef\u80fd\u306b\u306a\u308a\u307e\u3057\u305f\u3002</p> <pre><code>## \u30aa\u30fc\u30c8\u30b9\u30b1\u30fc\u30e9\u30fc\u306e\u52d5\u4f5c\u8a2d\u5b9a\nautoscaler:\n  shutdown_grace_period: 600 # SIGINT\u307e\u305f\u306fSIGTERM\u3092\u3092\u53d7\u3051\u53d6\u3063\u305f\u969b\u306e\u51e6\u7406\u5b8c\u4e86\u5f85\u3061\u7336\u4e88\u6642\u9593\u3092\u79d2\u3067\u6307\u5b9a\u3002\u30c7\u30d5\u30a9\u30eb\u30c8: 600(10\u5206)\n</code></pre>"},{"location":"upgrade/v0.8/","title":"v0.8\u3078\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9","text":""},{"location":"upgrade/v0.8/#_1","title":"\u4e3b\u306a\u5909\u66f4\u4e00\u89a7","text":"<ul> <li>TLS\u95a2\u9023\u8a2d\u5b9a\u306e\u9664\u53bb</li> </ul>"},{"location":"upgrade/v0.8/#diff1","title":"TLS\u95a2\u9023\u8a2d\u5b9a\u306e\u9664\u53bb","text":"<p>Pull Request:  </p> <ul> <li>https://github.com/sacloud/autoscaler/pull/388 </li> </ul> <p>TLS\u95a2\u9023\u6a5f\u80fd\u304c\u9664\u53bb\u3055\u308c\u307e\u3057\u305f\u3002 \u5229\u7528\u3057\u3066\u3044\u305f\u5834\u5408\u306f\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u4fee\u6b63\u304c\u5fc5\u8981\u3067\u3059\u3002  </p>"},{"location":"upgrade/v0.9/","title":"v0.9\u3078\u306e\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9","text":""},{"location":"upgrade/v0.9/#_1","title":"\u4e3b\u306a\u5909\u66f4\u4e00\u89a7","text":"<ul> <li>\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb\u3067\u306e\u8907\u6570\u30be\u30fc\u30f3\u5bfe\u5fdc</li> <li>\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3067ID\u306e\u4ee3\u308f\u308a\u306b\u30bb\u30ec\u30af\u30bf\u30fc\u3092\u6307\u5b9a\u53ef\u80fd\u306b</li> </ul>"},{"location":"upgrade/v0.9/#diff1","title":"\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb\u3067\u306e\u8907\u6570\u30be\u30fc\u30f3\u5bfe\u5fdc","text":"<p>Pull Request:  </p> <ul> <li>https://github.com/sacloud/autoscaler/pull/404 </li> </ul> <p>\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb\u3067\u30b5\u30fc\u30d0\u3092\u8907\u6570\u306e\u30be\u30fc\u30f3\u306b\u5206\u6563\u3057\u3066\u914d\u7f6e\u53ef\u80fd\u306b\u306a\u308a\u307e\u3057\u305f\u3002  </p> <p>\u5229\u7528\u4f8b: <pre><code>resources:\n  - type: ServerGroup\n    name: \"autoscaler-selector-test\"\n    server_name_prefix: \"autoscaler-selector-test\"\n    zones: [\"is1a\", \"is1b\", \"tk1a\", \"tk1b\"] # 4\u3064\u306e\u30be\u30fc\u30f3\u306b\u5206\u6563\u914d\u7f6e\u3059\u308b\n\n    # ...(\u4ee5\u4e0b\u7565)\n</code></pre></p>"},{"location":"upgrade/v0.9/#_2","title":"\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u306e\u5909\u66f4\u70b9","text":"<ul> <li><code>type: ServerGroup</code>\u306a\u30ea\u30bd\u30fc\u30b9\u3067<code>zones</code>\u3092\u6307\u5b9a\u53ef\u80fd\u306b<ul> <li>\u5f93\u6765\u306e<code>zone</code>\u3082\u5f15\u304d\u7d9a\u304d\u5229\u7528\u53ef\u80fd</li> <li><code>zone</code>\u3068<code>zones</code>\u306e\u540c\u6642\u5229\u7528\u306f\u3067\u304d\u306a\u3044(\u8d77\u52d5\u6642\u306a\u3069\u306b\u884c\u308f\u308c\u308b\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u3067\u30a8\u30e9\u30fc\u306b\u3059\u308b)</li> <li><code>zones</code>\u306b\u8907\u6570\u306e\u8981\u7d20\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u3001<code>parent</code>\u306b\u6307\u5b9a\u53ef\u80fd\u306a\u8981\u7d20\u3092\u5236\u9650\u3059\u308b<ul> <li><code>parent</code>\u304c<code>LoadBalancer</code>\u306e\u5834\u5408\u306f\u30a8\u30e9\u30fc\u3068\u3059\u308b(\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc\u306e\u307f\u975e\u30b0\u30ed\u30fc\u30d0\u30eb\u30ea\u30bd\u30fc\u30b9\u306a\u305f\u3081)</li> </ul> </li> </ul> </li> </ul> <p>\u6ce8: <code>zone</code>\u306b\u3064\u3044\u3066\u306f\u5c06\u6765\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u5ec3\u6b62\u4e88\u5b9a\u3067\u3059\u3002</p>"},{"location":"upgrade/v0.9/#_3","title":"\u30be\u30fc\u30f3\u5206\u6563\u306e\u6319\u52d5","text":"<ul> <li>\u30b5\u30fc\u30d0\u4f5c\u6210\u6642\u306b\u30b5\u30fc\u30d0\u30b0\u30eb\u30fc\u30d7\u5185\u3067\u306e\u30a4\u30f3\u30c7\u30c3\u30af\u30b9(\u9806\u5e8f)\u3092\u7b97\u51fa(\u65e2\u5b58\u306e\u51e6\u7406)</li> <li>\u30b3\u30f3\u30d5\u30a3\u30ae\u30e5\u30ec\u30fc\u30b7\u30e7\u30f3\u3067\u6307\u5b9a\u3055\u308c\u305f\u30be\u30fc\u30f3\u4e00\u89a7\u3068\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u304b\u3089\u3069\u306e\u30be\u30fc\u30f3\u306b\u914d\u7f6e\u3059\u308b\u304b\u3092\u6c7a\u5b9a<ul> <li><code>\u5229\u7528\u30be\u30fc\u30f3 = \u30be\u30fc\u30f3\u4e00\u89a7[\u30a4\u30f3\u30c7\u30c3\u30af\u30b9 % \u30be\u30fc\u30f3\u4e00\u89a7\u306e\u8981\u7d20\u6570]</code></li> </ul> </li> </ul> <p>Note: \u30be\u30fc\u30f3\u6c7a\u5b9a\u306e\u969b\u306f\u65e2\u5b58\u306e\u30b5\u30fc\u30d0\u306e\u914d\u7f6e\u72b6\u6cc1\u306f\u8003\u616e\u3055\u308c\u307e\u305b\u3093\u3002 \u3053\u306e\u305f\u3081\u3001\u30be\u30fc\u30f3\u3054\u3068\u306e\u30b5\u30fc\u30d0\u914d\u7f6e\u72b6\u6cc1\u306b\u504f\u308a\u304c\u3042\u3063\u3066\u3082\u8003\u616e\u3055\u308c\u306a\u3044\u70b9\u306b\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002 (\u5358\u4e00\u30be\u30fc\u30f3\u3067\u904b\u7528\u3057\u3066\u3044\u305f\u3082\u306e\u3092\u5f8c\u304b\u3089\u8907\u6570\u30be\u30fc\u30f3\u306b\u62e1\u5f35\u3059\u308b\u5834\u5408\u306a\u3069\u304c\u8a72\u5f53\u3057\u307e\u3059)</p> <p>\u4f8b: <code>is1a</code>\u30be\u30fc\u30f3\u306e\u307f\u30675\u301c10\u53f0\u3067\u904b\u7528\u3057\u3066\u3044\u305f\u3082\u306e\u3092<code>is1a</code>+<code>tk1b</code>\u306b\u5206\u6563\u3055\u305b\u308b\u3088\u3046\u306b\u5909\u66f4\u3057\u305f\u5834\u5408 \u3053\u306e\u5834\u5408is1a\u306e5\u53f0\u306b\u3064\u3044\u3066\u306f\u518d\u914d\u7f6e\u3055\u308c\u306a\u3044\u305f\u3081\u624b\u52d5\u3067\u306e\u518d\u914d\u7f6e(\u4e00\u5ea6\u524a\u9664\u3057\u3066\u304b\u3089\u30b9\u30b1\u30fc\u30eb\u30a2\u30c3\u30d7\u3055\u305b\u308b\u306a\u3069)\u304c\u5fc5\u8981\u3067\u3059\u3002</p>"},{"location":"upgrade/v0.9/#diff2","title":"\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3067ID\u306e\u4ee3\u308f\u308a\u306b\u30bb\u30ec\u30af\u30bf\u30fc\u3092\u6307\u5b9a\u53ef\u80fd\u306b","text":"<p>Pull Request:</p> <ul> <li>https://github.com/sacloud/autoscaler/pull/403 </li> </ul> <p>\u6c34\u5e73\u30b9\u30b1\u30fc\u30eb\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3067ID\u3092\u6307\u5b9a\u3057\u3066\u3044\u305f\u9805\u76ee\u306b\u5bfe\u3057\u30bb\u30ec\u30af\u30bf\u30fc\u3092\u6307\u5b9a\u53ef\u80fd\u306b\u306a\u308a\u307e\u3057\u305f\u3002</p> <p>\u5bfe\u8c61: - \u30a2\u30a4\u30b3\u30f3 - CD-ROM(ISO\u30a4\u30e1\u30fc\u30b8) - \u5c02\u6709\u30db\u30b9\u30c8 - \u30d1\u30b1\u30c3\u30c8\u30d5\u30a3\u30eb\u30bf</p> <p>\u5229\u7528\u4f8b: <pre><code>    template: \n      cdrom_id: netboot.xyz # CD-ROM\u3068\u3057\u3066\"netboot.xyz\"\u3068\u3044\u3046\u540d\u524d\u3092\u6761\u4ef6\u306b\u6307\u5b9a\n</code></pre></p> <p>\u5f93\u6765\u901a\u308aID\u3082\u6307\u5b9a\u53ef\u80fd\u3067\u3059\u304c\u5c06\u6765\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u5ec3\u6b62\u4e88\u5b9a\u3067\u3059\u3002</p> <p>\u307e\u305f\u3001\u3053\u306e\u5909\u66f4\u306b\u4f34\u3044\u3001<code>edit_parameter.ssh_key_ids</code>\u304c\u524a\u9664\u3055\u308c\u307e\u3057\u305f\u3002</p>"}]}